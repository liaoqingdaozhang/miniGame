(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-vrShow-mobile~pages-vrShow-pc"],{"04e6":function(t,e,i){var o=i("d3bb");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("7931d4c6",o,!0,{sourceMap:!1,shadowMode:!1})},"0547":function(t,e,i){t.exports=i.p+"static/img/quanjingTest1.f55f86f7.jpg"},"075e":function(t,e,i){var o=i("0f40");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("a173a444",o,!0,{sourceMap:!1,shadowMode:!1})},"08fe":function(t,e,i){var o,n,r,s=i("7037").default;i("6c57"),i("7a82"),i("131a"),i("d9e2"),i("d401"),i("dca8"),i("d3b7"),i("4de4"),i("b64b"),i("13d5"),i("ac1f"),i("5319"),i("3410"),i("159b"),i("99af"),i("4fadc"),i("466d"),i("e25e"),i("fb6a"),i("d81d"),i("26e9"),i("acd8"),i("c975"),i("498a"),i("25f0"),i("14d9"),i("caad"),i("2532"),i("a434"),i("a4d3"),i("e01a"),i("3c65"),i("1276"),i("7db0"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("00b4"),
/*!
* Photo Sphere Viewer 4.8.1
* @copyright 2014-2015 Jérémy Heleine
* @copyright 2015-2022 Damien "Mistic" Sorel
* @licence MIT (https://opensource.org/licenses/MIT)
*/
function(a,p){"object"===s(e)&&"undefined"!==typeof t?p(e,i("80ac"),i("3fc3")):(n=[e,i("80ac"),i("3fc3")],o=p,r="function"===typeof o?o.apply(e,n):o,void 0===r||(t.exports=r))}(0,(function(t,e,i){"use strict";function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},r.apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){this.message=t,"captureStackTrace"in Error?Error.captureStackTrace(this,c):this.stack=(new Error).stack}c.prototype=Object.create(Error.prototype),c.prototype.name="PSVError",c.prototype.constructor=c;var h=function(){function t(t){this.psv=t}var i=t.prototype;return i.destroy=function(){delete this.psv},i.supportsTransition=function(t){return!1},i.supportsPreload=function(t){return!1},i.loadTexture=function(t,e,i){throw new c("loadTexture not implemented")},i.createMesh=function(t){throw new c("createMesh not implemented")},i.setTexture=function(t,e,i){throw new c("setTexture not implemented")},i.setTextureOpacity=function(t,e){throw new c("setTextureOpacity not implemented")},i.disposeTexture=function(t){throw new c("disposeTexture not implemented")},i.setOverlay=function(t,e,i){throw new c("setOverlay not implemented")},t.createOverlayMaterial=function(i){var o,n=void 0===i?{}:i,s=n.additionalUniforms,a=n.overrideVertexShader;return new e.ShaderMaterial({uniforms:r({},s,(o={},o[t.OVERLAY_UNIFORMS.panorama]={value:new e.Texture},o[t.OVERLAY_UNIFORMS.overlay]={value:new e.Texture},o[t.OVERLAY_UNIFORMS.globalOpacity]={value:1},o[t.OVERLAY_UNIFORMS.overlayOpacity]={value:1},o)),vertexShader:a||"\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix *  modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D "+t.OVERLAY_UNIFORMS.panorama+";\nuniform sampler2D "+t.OVERLAY_UNIFORMS.overlay+";\nuniform float "+t.OVERLAY_UNIFORMS.globalOpacity+";\nuniform float "+t.OVERLAY_UNIFORMS.overlayOpacity+";\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 tColor1 = texture2D( "+t.OVERLAY_UNIFORMS.panorama+", vUv );\n  vec4 tColor2 = texture2D( "+t.OVERLAY_UNIFORMS.overlay+", vUv );\n  gl_FragColor = vec4(\n    mix( tColor1.rgb, tColor2.rgb, tColor2.a * "+t.OVERLAY_UNIFORMS.overlayOpacity+" ),\n    "+t.OVERLAY_UNIFORMS.globalOpacity+"\n  );\n}"})},t}();h.id=null,h.supportsDownload=!1,h.supportsOverlay=!1,h.OVERLAY_UNIFORMS={panorama:"panorama",overlay:"overlay",globalOpacity:"globalOpacity",overlayOpacity:"overlayOpacity"};var u={ROTATE_LAT_UP:"rotateLatitudeUp",ROTATE_LAT_DOWN:"rotateLatitudeDown",ROTATE_LONG_RIGHT:"rotateLongitudeRight",ROTATE_LONG_LEFT:"rotateLongitudeLeft",ZOOM_IN:"zoomIn",ZOOM_OUT:"zoomOut",TOGGLE_AUTOROTATE:"toggleAutorotate"},d={AUTOROTATE:"autorotate",BEFORE_RENDER:"before-render",BEFORE_ROTATE:"before-rotate",CLICK:"click",CLOSE_PANEL:"close-panel",CONFIG_CHANGED:"config-changed",DOUBLE_CLICK:"dblclick",FULLSCREEN_UPDATED:"fullscreen-updated",HIDE_NOTIFICATION:"hide-notification",HIDE_OVERLAY:"hide-overlay",HIDE_TOOLTIP:"hide-tooltip",KEY_PRESS:"key-press",LOAD_PROGRESS:"load-progress",OPEN_PANEL:"open-panel",PANORAMA_LOADED:"panorama-loaded",POSITION_UPDATED:"position-updated",READY:"ready",RENDER:"render",SHOW_NOTIFICATION:"show-notification",SHOW_OVERLAY:"show-overlay",SHOW_TOOLTIP:"show-tooltip",SIZE_UPDATED:"size-updated",STOP_ALL:"stop-all",ZOOM_UPDATED:"zoom-updated"},f={GET_ANIMATE_POSITION:"get-animate-position",GET_ROTATE_POSITION:"get-rotate-position"},v={ENTER_OBJECT:"enter-object",HOVER_OBJECT:"hover-object",LEAVE_OBJECT:"leave-object"},g={MENU:"menu",TWO_FINGERS:"twoFingers",CTRL_ZOOM:"ctrlZoom",ERROR:"error",DESCRIPTION:"description"},m={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return 1-Math.cos(t*(Math.PI/2))},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return.5-.5*Math.cos(Math.PI*t)},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return 1-Math.pow(2,-10*t)},inOutExpo:function(t){return(t=2*t-1)<0?.5*Math.pow(2,10*t):1-.5*Math.pow(2,-10*t)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return Math.sqrt(1-(t-1)*(t-1))},inOutCirc:function(t){return(t*=2)<1?.5-.5*Math.sqrt(1-t*t):.5+.5*Math.sqrt(1-(t-=2)*t)}},b={Enter:"Enter",Control:"Control",Escape:"Escape",Space:" ",PageUp:"PageUp",PageDown:"PageDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",Delete:"Delete",Plus:"+",Minus:"-"},w=Object.freeze({__proto__:null,DEFAULT_TRANSITION:1500,ANIMATION_MIN_DURATION:500,MOVE_THRESHOLD:4,DBLCLICK_DELAY:300,LONGTOUCH_DELAY:500,TWOFINGERSOVERLAY_DELAY:100,CTRLZOOM_TIMEOUT:2e3,INERTIA_WINDOW:300,SPHERE_RADIUS:10,VIEWER_DATA:"photoSphereViewer",MESH_USER_DATA:"psvSphere",ACTIONS:u,EVENTS:d,CHANGE_EVENTS:f,OBJECT_EVENTS:v,IDS:g,EASINGS:m,KEY_CODES:b}),_={loaded:!1,pixelRatio:1,isWebGLSupported:!1,isTouchEnabled:null,maxTextureWidth:0,mouseWheelEvent:null,fullscreenEvent:null};_.load=function(){if(!_.loaded){var t=function(){var t=document.createElement("canvas"),e=null;if(!t.getContext)return null;return["webgl","experimental-webgl","moz-webgl","webkit-3d"].some((function(i){try{return e=t.getContext(i),null!==e}catch(o){return!1}}))?e:null}();_.loaded=!0,_.pixelRatio=window.devicePixelRatio||1,_.isWebGLSupported=null!=t,_.isTouchEnabled=function(){var t="ontouchstart"in window||navigator.maxTouchPoints>0;"photoSphereViewer_touchSupport"in localStorage&&(t="true"===localStorage["photoSphereViewer_touchSupport"]);var e=new Promise((function(e){var i,o=function(){i(),localStorage["photoSphereViewer_touchSupport"]=!1,e(!1)},n=function(){i(),localStorage["photoSphereViewer_touchSupport"]=!0,e(!0)};window.addEventListener("mousedown",o,!1),window.addEventListener("touchstart",n,!1);var r=setTimeout((function(){i(),localStorage["photoSphereViewer_touchSupport"]=t,e(t)}),1e4);i=function(){window.removeEventListener("mousedown",o),window.removeEventListener("touchstart",n),clearTimeout(r)}}));return{initial:t,promise:e}}(),_.maxTextureWidth=function(t){return null!==t?t.getParameter(t.MAX_TEXTURE_SIZE):0}(t),_.mouseWheelEvent=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}(),_.fullscreenEvent=function(){var t=Object.keys(x).filter((function(t){return t in document}));return t.length?x[t[0]]:null}()}};var y=null;_.getMaxCanvasWidth=function(){return null===y&&(y=function(t){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=t,e.height=t/2;while(e.width>1024){i.fillStyle="white",i.fillRect(0,0,1,1);try{if(i.getImageData(0,0,1,1).data[0]>0)return e.width}catch(o){}e.width/=2,e.height/=2}throw new c("Unable to detect system capabilities")}(_.maxTextureWidth)),y};var x={exitFullscreen:"fullscreenchange",webkitExitFullscreen:"webkitfullscreenchange",mozCancelFullScreen:"mozfullscreenchange",msExitFullscreen:"MSFullscreenChange"};function E(t,e,i){void 0===i?t.classList.toggle(e):i?t.classList.add(e):i||t.classList.remove(e)}function T(t,e){var i;(i=t.classList).add.apply(i,e.split(" "))}function k(t,e){var i=t;do{if(i===e)return!0;i=i.parentNode}while(i);return!1}function M(t,e){if(null==t||!t.matches)return null;var i=t;do{if(i.matches(e))return i;i=i instanceof SVGElement?i.parentNode:i.parentElement}while(i);return null}function O(t){var e=0,i=0,o=t;while(o)e+=o.offsetLeft-o.scrollLeft+o.clientLeft,i+=o.offsetTop-o.scrollTop+o.clientTop,o=o.offsetParent;return{left:e,top:i}}function S(t){return(document.fullscreenElement||document.webkitFullscreenElement)===t}function A(t){(t.requestFullscreen||t.webkitRequestFullscreen).call(t)}function P(){(document.exitFullscreen||document.webkitExitFullscreen).call(document)}function L(t,e){return window.getComputedStyle(t,null)[e]}function C(t){var e=0,i=0,o=0,n=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),o=10*e,n=10*i,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(o=t.deltaX),(o||n)&&t.deltaMode&&(1===t.deltaMode?(o*=40,n*=40):(o*=800,n*=800)),o&&!e&&(e=o<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:e,spinY:i,pixelX:o,pixelY:n}}function N(t,e){var i=t%e;return i<0&&(i+=e),i}function R(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function I(t,e){var i=[0,2*Math.PI,2*-Math.PI];return i.reduce((function(i,o){var n=e-t+o;return Math.abs(n)<Math.abs(i)?n:i}),1/0)}function D(t,e){return Math.acos(Math.cos(t.latitude)*Math.cos(e.latitude)*Math.cos(t.longitude-e.longitude)+Math.sin(t.latitude)*Math.sin(e.latitude))}function H(t){return t.replace(/[A-Z](?:(?=[^A-Z])|[A-Z]*(?=[A-Z][^A-Z]|$))/g,(function(t,e){return(e>0?"-":"")+t.toLowerCase()}))}function z(t,e){var i,o,n,r,s=0,a=function(){s=Date.now(),r=void 0,n=t.apply(i,o),r||(i=o=null)};return function(){var p=Date.now();s||(s=p);var l=e-(p-s);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=void 0),s=p,n=t.apply(i,o),r||(i=o=null)):r||(r=setTimeout(a,l)),n}}function U(t){if("object"===s(t)&&null!==t){if("function"===typeof Object.getPrototypeOf){var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}return"[object Object]"===Object.prototype.toString.call(t)}return!1}function V(t,e){var i=e;return function t(e,o){return Array.isArray(o)?(e&&Array.isArray(e)?e.length=0:e=[],o.forEach((function(i,o){e[o]=t(null,i)}))):"object"===s(o)?(e&&!Array.isArray(e)||(e={}),Object.keys(o).forEach((function(n){"object"===s(o[n])&&o[n]&&U(o[n])?o[n]!=i&&(e[n]?t(e[n],o[n]):e[n]=t(null,o[n])):e[n]=o[n]}))):e=o,e}(t,e)}function F(t){return V(null,t)}function j(t){return!t||0===Object.keys(t).length&&t.constructor===Object}function W(t,e){Object.keys(t).forEach((function(i){e(t[i],i)}))}function Y(t){return null===t||void 0===t}function B(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var o=0,n=e;o<n.length;o++){var r=n[o];if(!Y(r))return r}}function Z(t){return"object"===s(t)&&null!=t}function K(t,e){if(t)for(var i=0,o=[["_",t]].concat(Object.entries(t));i<o.length;i++){var n=o[i],r=n[1];if(r.prototype instanceof e)return r}return null}function G(){var t=new Error("Loading was aborted.");return t.name="AbortError",t}function $(t){return"AbortError"===(null==t?void 0:t.name)}function X(t){console.warn("PhotoSphereViewer: "+t)}function q(t){return[["x","y"],["longitude","latitude"]].some((function(e){var i=e[0],o=e[1];return void 0!==t[i]&&void 0!==t[o]}))}function J(t,e){var i=t.match("<GPano:"+e+">(.*)</GPano:"+e+">");if(null!==i){var o=parseInt(i[1],10);return isNaN(o)?null:o}if(i=t.match("GPano:"+e+'="(.*?)"'),null!==i){var n=parseInt(i[1],10);return isNaN(n)?null:n}return null}var Q={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"};var tt=["left","center","right"],et=["top","center","bottom"],it=[].concat(tt,et),ot="center";function nt(t,e){var i=void 0===e?{allowCenter:!0,cssOrder:!0}:e,o=i.allowCenter,n=i.cssOrder;return t?("string"===typeof t&&(t=t.split(" ")),1===t.length&&(t[0]===ot?t=[ot,ot]:-1!==tt.indexOf(t[0])?t=[ot,t[0]]:-1!==et.indexOf(t[0])&&(t=[t[0],ot])),2!==t.length||-1===it.indexOf(t[0])||-1===it.indexOf(t[1])?(X("Unparsable position "+t),null):o||t[0]!==ot||t[1]!==ot?(n&&!rt(t)&&(t=[t[1],t[0]]),t[1]===ot&&-1!==tt.indexOf(t[0])&&(t=[ot,t[0]]),t[0]===ot&&-1!==et.indexOf(t[1])&&(t=[t[1],ot]),t):(X("Invalid position center center"),null)):null}function rt(t){return-1!==et.indexOf(t[0])&&-1!==tt.indexOf(t[1])}function st(t){var i;if("string"===typeof t){var o=t.toString().trim(),n=parseFloat(o.replace(/^(-?[0-9]+(?:\.[0-9]*)?).*$/,"$1")),r=o.replace(/^-?[0-9]+(?:\.[0-9]*)?(.*)$/,"$1").trim();switch(r.match(/(pm|per minute)$/)&&(n/=60),r){case"dpm":case"degrees per minute":case"dps":case"degrees per second":i=e.MathUtils.degToRad(n);break;case"rdpm":case"radians per minute":case"rdps":case"radians per second":i=n;break;case"rpm":case"revolutions per minute":case"rps":case"revolutions per second":i=n*Math.PI*2;break;default:throw new c('Unknown speed unit "'+r+'"')}}else i=t;return i}function at(t,i,o){var n;if(void 0===i&&(i=!1),void 0===o&&(o=i),"string"===typeof t){var r=t.toLowerCase().trim().match(/^(-?[0-9]+(?:\.[0-9]*)?)(.*)$/);if(!r)throw new c('Unknown angle "'+t+'"');var s=parseFloat(r[1]),a=r[2];if(a)switch(a){case"deg":case"degs":n=e.MathUtils.degToRad(s);break;case"rad":case"rads":n=s;break;default:throw new c('Unknown angle unit "'+a+'"')}else n=s}else{if("number"!==typeof t||isNaN(t))throw new c('Unknown angle "'+t+'"');n=t}return n=N(i?n+Math.PI:n,2*Math.PI),i?e.MathUtils.clamp(n-Math.PI,-Math.PI/(o?2:1),Math.PI/(o?2:1)):n}function pt(t){var i=new e.Texture(t);return i.needsUpdate=!0,i.minFilter=e.LinearFilter,i.generateMipmaps=!1,i}var lt=new e.Quaternion;function ct(t,e){lt.setFromEuler(e).invert(),t.applyQuaternion(lt)}var ht=function(){function t(t){var e=this;this.__callbacks=[],t?(t.easing&&"string"!==typeof t.easing||(t.easing=m[t.easing||"linear"]),this.__start=null,this.options=t,t.delay?this.__delayTimeout=setTimeout((function(){e.__delayTimeout=null,e.__animationFrame=window.requestAnimationFrame((function(t){return e.__run(t)}))}),t.delay):this.__animationFrame=window.requestAnimationFrame((function(t){return e.__run(t)}))):this.__resolved=!0}var e=t.prototype;return e.__run=function(t){var e=this;if(!this.__cancelled){null===this.__start&&(this.__start=t);var i=(t-this.__start)/this.options.duration,o={};i<1?(W(this.options.properties,(function(t,n){t&&(o[n]=t.start+(t.end-t.start)*e.options.easing(i))})),this.options.onTick(o,i),this.__animationFrame=window.requestAnimationFrame((function(t){return e.__run(t)}))):(W(this.options.properties,(function(t,e){t&&(o[e]=t.end)})),this.options.onTick(o,1),this.__animationFrame=window.requestAnimationFrame((function(){e.__resolved=!0,e.__resolve(!0)})))}},e.__resolve=function(t){this.__callbacks.forEach((function(e){return e(t)})),this.__callbacks.length=0},e.then=function(t){var e=this;return this.__resolved||this.__cancelled?Promise.resolve(this.__resolved).then(t):new Promise((function(t){e.__callbacks.push(t)})).then(t)},e.cancel=function(){this.__cancelled||this.__resolved||(this.__cancelled=!0,this.__resolve(!1),this.__delayTimeout&&(window.clearTimeout(this.__delayTimeout),this.__delayTimeout=null),this.__animationFrame&&(window.cancelAnimationFrame(this.__animationFrame),this.__animationFrame=null))},t}(),ut=function(){function t(e,i,o,n,r){if(void 0===i&&(i=0),void 0===o&&(o=-1/0),void 0===n&&(n=1/0),void 0===r&&(r=!1),this.fn=e,this.mode=t.STOP,this.speed=0,this.speedMult=1,this.currentSpeed=0,this.target=0,this.current=i,this.min=o,this.max=n,this.loopValue=r,r&&0!==o)throw new c("invalid config");this.fn&&this.fn(i)}var i=t.prototype;return i.setSpeed=function(t){this.speed=t},i.goto=function(i,o){void 0===o&&(o=1),this.mode=t.POSITION,this.target=this.loopValue?N(i,this.max):e.MathUtils.clamp(i,this.min,this.max),this.speedMult=o},i.step=function(e,i){void 0===i&&(i=1),this.mode!==t.POSITION&&(this.target=this.current),this.goto(this.target+e,i)},i.roll=function(e,i){void 0===e&&(e=!1),void 0===i&&(i=1),this.mode=t.INFINITE,this.target=e?-1/0:1/0,this.speedMult=i},i.stop=function(){this.mode=t.STOP},i.setValue=function(i){return this.target=this.loopValue?N(i,this.max):e.MathUtils.clamp(i,this.min,this.max),this.mode=t.STOP,this.target!==this.current&&(this.current=this.target,this.fn&&this.fn(this.current),!0)},i.update=function(i){if(this.mode===t.POSITION){this.loopValue&&Math.abs(this.target-this.current)>this.max/2&&(this.current=this.current<this.target?this.current+this.max:this.current-this.max);var o=this.currentSpeed*this.currentSpeed/(this.speed*this.speedMult*4);Math.abs(this.target-this.current)<=o&&(this.mode=t.STOP)}var n=this.mode===t.STOP?0:this.speed*this.speedMult;this.target<this.current&&(n=-n),this.currentSpeed<n?this.currentSpeed=Math.min(n,this.currentSpeed+i/1e3*this.speed*this.speedMult*2):this.currentSpeed>n&&(this.currentSpeed=Math.max(n,this.currentSpeed-i/1e3*this.speed*this.speedMult*2));var r=null;return this.current>this.target&&this.currentSpeed?r=Math.max(this.target,this.current+this.currentSpeed*i/1e3):this.current<this.target&&this.currentSpeed&&(r=Math.min(this.target,this.current+this.currentSpeed*i/1e3)),null!==r&&(r=this.loopValue?N(r,this.max):e.MathUtils.clamp(r,this.min,this.max),r!==this.current)&&(this.current=r,this.fn&&this.fn(this.current),!0)},t}();ut.STOP=0,ut.INFINITE=1,ut.POSITION=2;var dt=function(){function t(t,e){this.fn=e,this.dynamics=t,this.fn&&this.fn(this.current)}var e=t.prototype;return e.setSpeed=function(t){W(this.dynamics,(function(e){e.setSpeed(t)}))},e.goto=function(t,e){var i=this;void 0===e&&(e=1),W(t,(function(t,o){i.dynamics[o].goto(t,e)}))},e.step=function(t,e){var i=this;void 0===e&&(e=1),W(t,(function(t,o){i.dynamics[o].step(t,e)}))},e.roll=function(t,e){var i=this;void 0===e&&(e=1),W(t,(function(t,o){i.dynamics[o].roll(t,e)}))},e.stop=function(){W(this.dynamics,(function(t){return t.stop()}))},e.setValue=function(t){var e=this,i=!1;return W(t,(function(t,o){i|=e.dynamics[o].setValue(t)})),i&&this.fn&&this.fn(this.current),i},e.update=function(t){var e=!1;return W(this.dynamics,(function(i){e|=i.update(t)})),e&&this.fn&&this.fn(this.current),e},n(t,[{key:"current",get:function(){var t={};return W(this.dynamics,(function(e,i){t[i]=e.current})),t}}]),t}(),ft=function(t){function e(e){var i,o=e.psv,n=e.container,r=e.direction,s=e.onUpdate;return i=t.call(this)||this,i.psv=o,i.container=n,i.prop={onUpdate:s,direction:r,mousedown:!1,mouseover:!1},i.container.addEventListener("click",l(i)),i.container.addEventListener("mousedown",l(i)),i.container.addEventListener("mouseenter",l(i)),i.container.addEventListener("mouseleave",l(i)),i.container.addEventListener("touchstart",l(i)),i.container.addEventListener("mousemove",l(i),!0),i.container.addEventListener("touchmove",l(i),!0),window.addEventListener("mouseup",l(i)),window.addEventListener("touchend",l(i)),i}a(e,t);var i=e.prototype;return i.destroy=function(){window.removeEventListener("mouseup",this),window.removeEventListener("touchend",this)},i.handleEvent=function(t){switch(t.type){case"click":t.stopPropagation();break;case"mousedown":this.__onMouseDown(t);break;case"mouseenter":this.__onMouseEnter(t);break;case"mouseleave":this.__onMouseLeave(t);break;case"touchstart":this.__onTouchStart(t);break;case"mousemove":this.__onMouseMove(t);break;case"touchmove":this.__onTouchMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchend":this.__onTouchEnd(t);break}},i.__onMouseDown=function(t){this.prop.mousedown=!0,this.__update(t,!0)},i.__onMouseEnter=function(t){this.prop.mouseover=!0,this.__update(t,!0)},i.__onTouchStart=function(t){this.prop.mouseover=!0,this.prop.mousedown=!0,this.__update(t.changedTouches[0],!0)},i.__onMouseMove=function(t){(this.prop.mousedown||this.prop.mouseover)&&(t.stopPropagation(),this.__update(t,!0))},i.__onTouchMove=function(t){(this.prop.mousedown||this.prop.mouseover)&&(t.stopPropagation(),this.__update(t.changedTouches[0],!0))},i.__onMouseUp=function(t){this.prop.mousedown&&(this.prop.mousedown=!1,this.__update(t,!1))},i.__onMouseLeave=function(t){this.prop.mouseover&&(this.prop.mouseover=!1,this.__update(t,!0))},i.__onTouchEnd=function(t){this.prop.mousedown&&(this.prop.mouseover=!1,this.prop.mousedown=!1,this.__update(t.changedTouches[0],!1))},i.__update=function(t,e){var i=this.container.getBoundingClientRect(),o=t[this.vertical?"clientY":"clientX"],n=i[this.vertical?"bottom":"left"],r=i[this.vertical?"height":"width"],s=Math.abs((n-o)/r);this.prop.onUpdate({value:s,click:!e,mousedown:this.prop.mousedown,mouseover:this.prop.mouseover,cursor:t})},n(e,[{key:"vertical",get:function(){return this.prop.direction===e.VERTICAL}}]),e}(i.EventEmitter);ft.VERTICAL=1,ft.HORIZONTAL=2;var vt=Object.freeze({__proto__:null,toggleClass:E,addClasses:T,removeClasses:function(t,e){var i;(i=t.classList).remove.apply(i,e.split(" "))},hasParent:k,getClosest:M,getPosition:O,isFullscreenEnabled:S,requestFullscreen:A,exitFullscreen:P,getStyle:L,normalizeWheel:C,bound:function(t,i,o){return e.MathUtils.clamp(t,i,o)},loop:N,isPowerOfTwo:function(t){return e.MathUtils.isPowerOfTwo(t)},sum:function(t){return t.reduce((function(t,e){return t+e}),0)},distance:R,getShortestArc:I,getAngle:D,greatArcDistance:function(t,e){var i=t[0],o=t[1],n=e[0],r=e[1],s=(n-i)*Math.cos((o+r)/2),a=r-o;return Math.sqrt(s*s+a*a)},dasherize:H,throttle:z,isPlainObject:U,deepmerge:V,clone:F,isEmpty:j,each:W,isNil:Y,firstNonNull:B,deepEqual:function t(e,i){if(e===i)return!0;if(Z(e)&&Z(i)){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(var o=0,n=Object.keys(e);o<n.length;o++){var r=n[o];if(!t(e[r],i[r]))return!1}return!0}return!1},pluginInterop:K,getAbortError:G,isAbortError:$,logWarn:X,isExtendedPosition:q,getXMPValue:J,parsePosition:function(t){if(!t)return{x:.5,y:.5};if("object"===s(t))return t;var e=t.toLocaleLowerCase().split(" ").slice(0,2);1===e.length&&(e=void 0!==Q[e[0]]?[e[0],"center"]:[e[0],e[0]]);var i="left"!==e[1]&&"right"!==e[1]&&"top"!==e[0]&&"bottom"!==e[0];e=e.map((function(t){return Q[t]||t})),i||e.reverse();var o=e.join(" ").match(/^([0-9.]+)% ([0-9.]+)%$/);return o?{x:parseFloat(o[1])/100,y:parseFloat(o[2])/100}:{x:.5,y:.5}},cleanPosition:nt,positionIsOrdered:rt,parseSpeed:st,parseAngle:at,createTexture:pt,applyEulerInverse:ct,Animation:ht,Dynamic:ut,MultiDynamic:dt,Slider:ft}),gt=function(t){function i(i,o){var n;if(n=t.call(this,i)||this,n.config=r({resolution:64},o),!e.MathUtils.isPowerOfTwo(n.config.resolution))throw new c("EquirectangularAdapter resolution must be power of two");return n.SPHERE_SEGMENTS=n.config.resolution,n.SPHERE_HORIZONTAL_SEGMENTS=n.SPHERE_SEGMENTS/2,n}a(i,t);var o=i.prototype;return o.supportsTransition=function(){return!0},o.supportsPreload=function(){return!0},o.loadTexture=function(t,e,i){var o=this;return void 0===i&&(i=this.psv.config.useXmpData),"string"!==typeof t?((Array.isArray(t)||"object"===s(t)&&t.left)&&X("Cubemap support now requires an additional adapter, see https://photo-sphere-viewer.js.org/guide/adapters"),Promise.reject(new c("Invalid panorama url, are you using the right adapter?"))):(i?this.__loadXMP(t,(function(t){return o.psv.loader.setProgress(t)})).then((function(e){return o.psv.textureLoader.loadImage(t).then((function(t){return{img:t,xmpPanoData:e}}))})):this.psv.textureLoader.loadImage(t,(function(t){return o.psv.loader.setProgress(t)})).then((function(t){return{img:t,xmpPanoData:null}}))).then((function(i){var n,r,s,a,p,l,c,h,u,d=i.img,f=i.xmpPanoData;"function"===typeof e&&(e=e(d));var v={fullWidth:B(null==(n=e)?void 0:n.fullWidth,null==f?void 0:f.fullWidth,d.width),fullHeight:B(null==(r=e)?void 0:r.fullHeight,null==f?void 0:f.fullHeight,d.height),croppedWidth:B(null==(s=e)?void 0:s.croppedWidth,null==f?void 0:f.croppedWidth,d.width),croppedHeight:B(null==(a=e)?void 0:a.croppedHeight,null==f?void 0:f.croppedHeight,d.height),croppedX:B(null==(p=e)?void 0:p.croppedX,null==f?void 0:f.croppedX,0),croppedY:B(null==(l=e)?void 0:l.croppedY,null==f?void 0:f.croppedY,0),poseHeading:B(null==(c=e)?void 0:c.poseHeading,null==f?void 0:f.poseHeading,0),posePitch:B(null==(h=e)?void 0:h.posePitch,null==f?void 0:f.posePitch,0),poseRoll:B(null==(u=e)?void 0:u.poseRoll,null==f?void 0:f.poseRoll,0)};v.croppedWidth===d.width&&v.croppedHeight===d.height||X("Invalid panoData, croppedWidth and/or croppedHeight is not coherent with loaded image.\n    panoData: "+v.croppedWidth+"x"+v.croppedHeight+", image: "+d.width+"x"+d.height),(e||f)&&v.fullWidth!==2*v.fullHeight&&X("Invalid panoData, fullWidth should be twice fullHeight");var g=o.__createEquirectangularTexture(d,v);return{panorama:t,texture:g,panoData:v}}))},o.__loadXMP=function(t,e){var i=this;return this.psv.textureLoader.loadFile(t,e).then((function(t){return i.__loadBlobAsString(t)})).then((function(t){var e=t.indexOf("<x:xmpmeta"),i=t.indexOf("</x:xmpmeta>"),o=t.substring(e,i);return-1!==e&&-1!==i&&o.includes("GPano:")?{fullWidth:J(o,"FullPanoWidthPixels"),fullHeight:J(o,"FullPanoHeightPixels"),croppedWidth:J(o,"CroppedAreaImageWidthPixels"),croppedHeight:J(o,"CroppedAreaImageHeightPixels"),croppedX:J(o,"CroppedAreaLeftPixels"),croppedY:J(o,"CroppedAreaTopPixels"),poseHeading:J(o,"PoseHeadingDegrees"),posePitch:J(o,"PosePitchDegrees"),poseRoll:J(o,"PoseRollDegrees")}:null}))},o.__loadBlobAsString=function(t){return new Promise((function(e,i){var o=new FileReader;o.onload=function(){return e(o.result)},o.onerror=i,o.readAsText(t)}))},o.__createEquirectangularTexture=function(t,e){if(e.fullWidth>_.maxTextureWidth||e.croppedWidth!==e.fullWidth||e.croppedHeight!==e.fullHeight){var i=_.getMaxCanvasWidth()/e.fullWidth,o=r({},e);i<1&&(o.fullWidth*=i,o.fullHeight*=i,o.croppedWidth*=i,o.croppedHeight*=i,o.croppedX*=i,o.croppedY*=i);var n=document.createElement("canvas");n.width=o.fullWidth,n.height=o.fullHeight;var s=n.getContext("2d");return s.drawImage(t,o.croppedX,o.croppedY,o.croppedWidth,o.croppedHeight),pt(n)}return pt(t)},o.createMesh=function(t){void 0===t&&(t=1);var i=new e.SphereGeometry(10*t,this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1),o=h.createOverlayMaterial();return new e.Mesh(i,o)},o.setTexture=function(t,e){this.__setUniform(t,h.OVERLAY_UNIFORMS.panorama,e.texture),this.setOverlay(t,null)},o.setOverlay=function(t,i,o){this.__setUniform(t,h.OVERLAY_UNIFORMS.overlayOpacity,o),i?this.__setUniform(t,h.OVERLAY_UNIFORMS.overlay,i.texture):this.__setUniform(t,h.OVERLAY_UNIFORMS.overlay,new e.Texture)},o.setTextureOpacity=function(t,e){this.__setUniform(t,h.OVERLAY_UNIFORMS.globalOpacity,e),t.material.transparent=e<1},o.disposeTexture=function(t){var e;null==(e=t.texture)||e.dispose()},o.__setUniform=function(t,i,o){t.material.uniforms[i].value instanceof e.Texture&&t.material.uniforms[i].value.dispose(),t.material.uniforms[i].value=o},i}(h);gt.id="equirectangular",gt.supportsDownload=!0,gt.supportsOverlay=!0;var mt=function(){function t(t,e){this.psv=t.psv||t,this.parent=t,this.parent.children.push(this),this.children=[],this.prop={visible:!0},this.container=document.createElement("div"),this.container.className=e,this.parent.container.appendChild(this.container)}var e=t.prototype;return e.destroy=function(){this.parent.container.removeChild(this.container);var t=this.parent.children.indexOf(this);-1!==t&&this.parent.children.splice(t,1),this.children.slice().forEach((function(t){return t.destroy()})),this.children.length=0,delete this.container,delete this.parent,delete this.psv,delete this.prop},e.refreshUi=function(){var t=this;this.children.every((function(e){return e.refreshUi(),!0===t.psv.prop.uiRefresh}))},e.toggle=function(t){!1===t||void 0===t&&this.isVisible()?this.hide():(!0===t||void 0===t&&!this.isVisible())&&this.show()},e.hide=function(){this.container.style.display="none",this.prop.visible=!1},e.show=function(){this.container.style.display="",this.prop.visible=!0},e.isVisible=function(){return this.prop.visible},t}(),bt=function(t){function e(e,i,o,n){var s;return void 0===i&&(i=""),void 0===o&&(o=!1),void 0===n&&(n=!0),s=t.call(this,e,"psv-button "+i)||this,s.prop=r({},s.prop,{id:s.constructor.id,collapsable:o,enabled:!0,supported:!0,collapsed:!1,active:!1,width:s.container.offsetWidth}),s.constructor.icon&&s.__setIcon(s.constructor.icon),s.prop.id&&s.psv.config.lang[s.prop.id]&&(s.container.title=s.psv.config.lang[s.prop.id]),n&&(s.container.tabIndex=0),s.container.addEventListener("click",(function(t){s.prop.enabled&&s.onClick(),t.stopPropagation()})),s.container.addEventListener("keydown",(function(t){t.key===b.Enter&&s.prop.enabled&&(s.onClick(),t.stopPropagation())})),s}a(e,t);var i=e.prototype;return i.checkSupported=function(){var t=this,e=this.isSupported();U(e)?(!1===e.initial&&(this.hide(),this.prop.supported=!1),e.promise.then((function(e){t.prop&&(t.prop.supported=e,t.toggle(e))}))):(this.prop.supported=e,e||this.hide())},i.isSupported=function(){return!0},i.toggleActive=function(t){this.prop.active=void 0!==t?t:!this.prop.active,E(this.container,"psv-button--active",this.prop.active),this.constructor.iconActive&&this.__setIcon(this.prop.active?this.constructor.iconActive:this.constructor.icon)},i.show=function(t){void 0===t&&(t=!0),this.isVisible()||(this.prop.visible=!0,this.prop.collapsed||(this.container.style.display=""),t&&this.psv.refreshUi("show button "+this.prop.id))},i.hide=function(t){void 0===t&&(t=!0),this.isVisible()&&(this.prop.visible=!1,this.container.style.display="none",t&&this.psv.refreshUi("hide button "+this.prop.id))},i.disable=function(){this.container.classList.add("psv-button--disabled"),this.prop.enabled=!1},i.enable=function(){this.container.classList.remove("psv-button--disabled"),this.prop.enabled=!0},i.collapse=function(){this.prop.collapsed=!0,this.container.style.display="none"},i.uncollapse=function(){this.prop.collapsed=!1,this.prop.visible&&(this.container.style.display="")},i.__setIcon=function(t,e){void 0===e&&(e=this.container),t?(e.innerHTML=t,e.querySelector("svg").classList.add("psv-button-svg")):e.innerHTML=""},i.onClick=function(){throw new c('onClick not implemented for button "'+this.prop.id+'".')},e}(mt);bt.id=null,bt.groupId=null,bt.icon=null,bt.iconActive=null;var wt=function(t){function e(e){var i;return i=t.call(this,e,"psv-button--hover-scale psv-autorotate-button",!0)||this,i.psv.on(d.AUTOROTATE,l(i)),i}a(e,t);var i=e.prototype;return i.destroy=function(){this.psv.off(d.AUTOROTATE,this),t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case d.AUTOROTATE:this.toggleActive(t.args[0]);break}},i.onClick=function(){this.psv.isAutorotateEnabled()&&(this.psv.config.autorotateIdle=!1,this.psv.resetIdleTimer()),this.psv.toggleAutorotate()},e}(bt);wt.id="autorotate",wt.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41"><path fill="currentColor" d="M40.5 14.1c-.1-.1-1.2-.5-2.899-1-.101 0-.2-.1-.2-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.4 2.7.9.1 0 .2.1.2.199C6.3 34.4 12.9 39 20.5 39c7.601 0 14.101-4.6 16.9-11.1 0-.101.1-.101.2-.2 1.699-.6 2.699-1 2.8-1l.6-.3V14.3l-.5-.2zM20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.8-1-8.8-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5C9.7 7 14.8 4 20.5 4zm0 33c-5.9 0-11.1-3.1-14-7.899-.2-.301.1-.601.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.601-2 .3-.1.5.2.399.5A16.422 16.422 0 0 1 20.5 37zm18.601-12.1c0 .1-.101.3-.2.3-2.5.9-10.4 3.6-18.4 3.6-7.1 0-15.6-2.699-18.3-3.6C2.1 25.2 2 25 2 24.9V16c0-.1.1-.3.2-.3 2.6-.9 10.6-3.6 18.2-3.6 7.5 0 15.899 2.7 18.5 3.6.1 0 .2.2.2.3v8.9z"/><path fill="currentColor" d="M18.7 24l6.4-3.7c.3-.2.3-.7 0-.8l-6.4-3.8c-.3-.2-.7 0-.7.4v7.4c0 .5.4.7.7.5z"/>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n',wt.iconActive='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41"><path fill="currentColor" d="M40.5 14.1c-.1-.1-1.2-.5-2.898-1-.102 0-.202-.1-.202-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.399 2.7.899.1 0 .2.101.2.199C6.3 34.4 12.9 39 20.5 39c7.602 0 14.102-4.6 16.9-11.1 0-.102.1-.102.199-.2 1.699-.601 2.699-1 2.801-1l.6-.3V14.3l-.5-.2zM6.701 11.5C9.7 7 14.8 4 20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.799-1-8.799-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5zM25.1 20.3L18.7 24c-.3.2-.7 0-.7-.5v-7.4c0-.4.4-.6.7-.4l6.399 3.8c.301.1.301.6.001.8zm9.4 8.901A16.421 16.421 0 0 1 20.5 37c-5.9 0-11.1-3.1-14-7.898-.2-.302.1-.602.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.602-2 .298-.1.5.198.398.499z"/>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n';var _t=function(t){function e(e,i){var o;return o=t.call(this,e,"psv-custom-button",!1!==i.collapsable,!1!==i.tabbable)||this,o.config=i,o.config.id?o.prop.id=o.config.id:o.prop.id="psvButton-"+Math.random().toString(36).substr(2,9),o.config.className&&T(o.container,o.config.className),o.config.title&&(o.container.title=o.config.title),o.config.content&&(o.container.innerHTML=o.config.content),o.prop.width=o.container.offsetWidth,!1===o.config.enabled&&o.disable(),!1===o.config.visible&&o.hide(),o}a(e,t);var i=e.prototype;return i.destroy=function(){delete this.config,t.prototype.destroy.call(this)},i.onClick=function(){this.config.onClick&&this.config.onClick.call(this.psv,this.psv)},e}(bt),yt=function(t){function e(e){var i;return i=t.call(this,e,"psv-button--hover-scale psv-description-button")||this,i.prop=r({},i.prop,{mode:null}),i.psv.on(d.HIDE_NOTIFICATION,l(i)),i.psv.on(d.SHOW_NOTIFICATION,l(i)),i.psv.on(d.CLOSE_PANEL,l(i)),i.psv.on(d.OPEN_PANEL,l(i)),i}a(e,t);var i=e.prototype;return i.destroy=function(){this.psv.off(d.HIDE_NOTIFICATION,this),this.psv.off(d.SHOW_NOTIFICATION,this),this.psv.off(d.CLOSE_PANEL,this),this.psv.off(d.OPEN_PANEL,this),t.prototype.destroy.call(this)},i.handleEvent=function(t){if(this.prop.mode){var e=!1;switch(t.type){case d.HIDE_NOTIFICATION:e=1===this.prop.mode;break;case d.SHOW_NOTIFICATION:e=1===this.prop.mode&&t.args[0]!==g.DESCRIPTION;break;case d.CLOSE_PANEL:e=2===this.prop.mode;break;case d.OPEN_PANEL:e=2===this.prop.mode&&t.args[0]!==g.DESCRIPTION;break}e&&(this.toggleActive(!1),this.prop.mode=null)}},i.hide=function(e){t.prototype.hide.call(this,e),this.prop.mode&&this.__close()},i.refreshUi=function(t){if(void 0===t&&(t=!1),t){var e=this.psv.navbar.getButton("caption",!1),i=e&&!e.isVisible(),o=!!this.psv.config.description;i||o?this.show(!1):this.hide(!1)}},i.onClick=function(){this.prop.mode?this.__close():this.__open()},i.__close=function(){switch(this.prop.mode){case 1:this.psv.notification.hide(g.DESCRIPTION);break;case 2:this.psv.panel.hide(g.DESCRIPTION);break}},i.__open=function(){this.toggleActive(!0),this.psv.config.description?(this.prop.mode=2,this.psv.panel.show({id:g.DESCRIPTION,content:(this.psv.config.caption?"<p>"+this.psv.config.caption+"</p>":"")+this.psv.config.description})):(this.prop.mode=1,this.psv.notification.show({id:g.DESCRIPTION,content:this.psv.config.caption}))},e}(bt);yt.id="description",yt.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path fill="currentColor" d="M28.3 26.1c-1 2.6-1.9 4.8-2.6 7-2.5 7.4-5 14.7-7.2 22-1.3 4.4.5 7.2 4.3 7.8 1.3.2 2.8.2 4.2-.1 8.2-2 11.9-8.6 15.7-15.2l-2.2 2a18.8 18.8 0 0 1-7.4 5.2 2 2 0 0 1-1.6-.2c-.2-.1 0-1 0-1.4l.8-1.8L41.9 28c.5-1.4.9-3 .7-4.4-.2-2.6-3-4.4-6.3-4.4-8.8.2-15 4.5-19.5 11.8-.2.3-.2.6-.3 1.3 3.7-2.8 6.8-6.1 11.8-6.2z"/><circle fill="currentColor" cx="39.3" cy="9.2" r="8.2"/>\x3c!--Created by Arafat Uddin from the Noun Project--\x3e</svg>\n';var xt=function(t){function e(e){return t.call(this,e,"psv-button--hover-scale psv-download-button",!0)||this}a(e,t);var i=e.prototype;return i.onClick=function(){var t=this,e=document.createElement("a");e.href=this.psv.config.downloadUrl||this.psv.config.panorama,e.download=e.href.split("/").pop(),this.psv.container.appendChild(e),e.click(),setTimeout((function(){t.psv.container.removeChild(e)}),100)},i.refreshUi=function(){var t=this.psv.adapter.constructor.supportsDownload||this.psv.config.downloadUrl;t&&!this.prop.visible?this.show():!t&&this.prop.visible&&this.hide()},e}(bt);xt.id="download",xt.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M83.3 35.6h-17V3H32.2v32.6H16.6l33.6 32.7 33-32.7z"/><path fill="currentColor" d="M83.3 64.2v16.3H16.6V64.2H-.1v32.6H100V64.2H83.3z"/>\x3c!--Created by Michael Zenaty from the Noun Project--\x3e</svg>\n';var Et=function(t){function e(e){var i;return i=t.call(this,e,"psv-button--hover-scale psv-fullscreen-button")||this,i.psv.on(d.FULLSCREEN_UPDATED,l(i)),i}a(e,t);var i=e.prototype;return i.destroy=function(){this.psv.off(d.FULLSCREEN_UPDATED,this),t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case d.FULLSCREEN_UPDATED:this.toggleActive(t.args[0]);break}},i.onClick=function(){this.psv.toggleFullscreen()},e}(bt);Et.id="fullscreen",Et.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M100 40H87.1V18.8h-21V6H100zM100 93.2H66V80.3h21.1v-21H100zM34 93.2H0v-34h12.9v21.1h21zM12.9 40H0V6h34v12.9H12.8z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n',Et.iconActive='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M66 7h13v21h21v13H66zM66 60.3h34v12.9H79v21H66zM0 60.3h34v34H21V73.1H0zM21 7h13v34H0V28h21z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n';var Tt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 80 80"><g fill="currentColor"><circle r="10" cx="20" cy="20"/><circle r="10" cx="50" cy="20"/><circle r="10" cx="80" cy="20"/><circle r="10" cx="20" cy="50"/><circle r="10" cx="50" cy="50"/><circle r="10" cx="80" cy="50"/><circle r="10" cx="20" cy="80"/><circle r="10" cx="50" cy="80"/><circle r="10" cx="80" cy="80"/></g>\x3c!-- Created by Richard Kunák from the Noun Project--\x3e</svg>\n',kt=function(t){function e(e){var i;return i=t.call(this,e,"psv-button--hover-scale psv-menu-button")||this,i.psv.on(d.OPEN_PANEL,l(i)),i.psv.on(d.CLOSE_PANEL,l(i)),t.prototype.hide.call(l(i)),i}a(e,t);var i=e.prototype;return i.destroy=function(){this.psv.off(d.OPEN_PANEL,this),this.psv.off(d.CLOSE_PANEL,this),t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case d.OPEN_PANEL:this.toggleActive(t.args[0]===g.MENU);break;case d.CLOSE_PANEL:this.toggleActive(!1);break}},i.hide=function(e){t.prototype.hide.call(this,e),this.__hideMenu()},i.show=function(e){t.prototype.show.call(this,e),this.prop.active&&this.__showMenu()},i.onClick=function(){this.prop.active?this.__hideMenu():this.__showMenu()},i.__showMenu=function(){var t=this;this.psv.panel.show({id:g.MENU,content:e.MENU_TEMPLATE(this.parent.collapsed,this.psv,H(e.BUTTON_DATA)),noMargin:!0,clickHandler:function(i){var o=i.target?M(i.target,"li"):void 0,n=o?o.dataset[e.BUTTON_DATA]:void 0;n&&(t.parent.getButton(n).onClick(),t.__hideMenu())}})},i.__hideMenu=function(){this.psv.panel.hide(g.MENU)},e}(bt);kt.id="menu",kt.icon=Tt,kt.BUTTON_DATA="psvButton",kt.MENU_TEMPLATE=function(t,e,i){return'\n<div class="psv-panel-menu psv-panel-menu--stripped">\n  <h1 class="psv-panel-menu-title">'+Tt+" "+e.config.lang.menu+'</h1>\n  <ul class="psv-panel-menu-list">\n    '+t.map((function(t){return"\n    <li data-"+i+'="'+t.prop.id+'" class="psv-panel-menu-item" tabindex="0">\n      <span class="psv-panel-menu-item-icon">'+t.container.innerHTML+'</span>\n      <span class="psv-panel-menu-item-label">'+t.container.title+"</span>\n    </li>\n    "})).join("")+"\n  </ul>\n</div>\n"};var Mt=function(){function t(t){void 0===t&&(t=200),this.delay=t,this.time=0,this.timeout=null}var e=t.prototype;return e.down=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.time=(new Date).getTime()},e.up=function(t){var e=this;if(this.time){var i=(new Date).getTime()-this.time;i<this.delay?this.timeout=setTimeout((function(){t(),e.timeout=null,e.time=0}),this.delay):(t(),this.time=0)}},t}();function Ot(t){var e=0;switch(t){case"up":e=90;break;case"right":e=180;break;case"down":e=-90;break;default:e=0;break}return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="40 40 432 432"><g transform="rotate(0, 256, 256)"><path fill="currentColor" d="M425.23 210.55H227.39a5 5 0 01-3.53-8.53l56.56-56.57a45.5 45.5 0 000-64.28 45.15 45.15 0 00-32.13-13.3 45.15 45.15 0 00-32.14 13.3L41.32 256l174.83 174.83a45.15 45.15 0 0032.14 13.3 45.15 45.15 0 0032.13-13.3 45.5 45.5 0 000-64.28l-56.57-56.57a5 5 0 013.54-8.53h197.84c25.06 0 45.45-20.39 45.45-45.45s-20.4-45.45-45.45-45.45z"/></g>\x3c!-- Created by Flatart from the Noun Project --\x3e</svg>\n'.replace("rotate(0","rotate("+e)}var St=function(t){function e(e,i){var o;return o=t.call(this,e,"psv-button--hover-scale psv-move-button")||this,o.container.title=o.psv.config.lang.move,o.prop=r({},o.prop,{value:i,handler:new Mt}),o.container.addEventListener("mousedown",l(o)),o.container.addEventListener("keydown",l(o)),o.container.addEventListener("keyup",l(o)),o.psv.container.addEventListener("mouseup",l(o)),o.psv.container.addEventListener("touchend",l(o)),o}a(e,t);var i=e.prototype;return i.destroy=function(){this.__onMouseUp(),this.psv.container.removeEventListener("mouseup",this),this.psv.container.removeEventListener("touchend",this),t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case"mousedown":this.__onMouseDown();break;case"mouseup":this.__onMouseUp();break;case"touchend":this.__onMouseUp();break;case"keydown":t.key===b.Enter&&this.__onMouseDown();break;case"keyup":t.key===b.Enter&&this.__onMouseUp();break}},i.isSupported=function(){return{initial:!_.isTouchEnabled.initial,promise:_.isTouchEnabled.promise.then((function(t){return!t}))}},i.onClick=function(){},i.__onMouseDown=function(){this.prop.enabled&&(this.psv.__stopAll(),this.psv.dynamics.position.roll(this.prop.value),this.prop.handler.down())},i.__onMouseUp=function(){var t=this;this.prop.enabled&&this.prop.handler.up((function(){t.psv.dynamics.position.stop(),t.psv.resetIdleTimer()}))},e}(bt);St.groupId="move";var At=function(t){function e(e){return t.call(this,e,{latitude:!0})||this}return a(e,t),e}(St);At.id="moveDown",At.icon=Ot("down");var Pt=function(t){function e(e){return t.call(this,e,{longitude:!0})||this}return a(e,t),e}(St);Pt.id="moveLeft",Pt.icon=Ot("left");var Lt=function(t){function e(e){return t.call(this,e,{longitude:!1})||this}return a(e,t),e}(St);Lt.id="moveRight",Lt.icon=Ot("right");var Ct=function(t){function e(e){return t.call(this,e,{latitude:!1})||this}return a(e,t),e}(St);Ct.id="moveUp",Ct.icon=Ot("up");var Nt=function(t){function e(e,i){var o;return o=t.call(this,e,"psv-button--hover-scale psv-zoom-button")||this,o.prop=r({},o.prop,{value:i,handler:new Mt}),o.container.addEventListener("mousedown",l(o)),o.container.addEventListener("keydown",l(o)),o.container.addEventListener("keyup",l(o)),o.psv.container.addEventListener("mouseup",l(o)),o.psv.container.addEventListener("touchend",l(o)),o}a(e,t);var i=e.prototype;return i.destroy=function(){this.__onMouseUp(),this.psv.container.removeEventListener("mouseup",this),this.psv.container.removeEventListener("touchend",this),t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case"mousedown":this.__onMouseDown();break;case"mouseup":this.__onMouseUp();break;case"touchend":this.__onMouseUp();break;case"keydown":t.key===b.Enter&&this.__onMouseDown();break;case"keyup":t.key===b.Enter&&this.__onMouseUp();break}},i.isSupported=function(){return{initial:!_.isTouchEnabled.initial,promise:_.isTouchEnabled.promise.then((function(t){return!t}))}},i.onClick=function(){},i.__onMouseDown=function(){this.prop.enabled&&(this.psv.dynamics.zoom.roll(this.prop.value),this.prop.handler.down())},i.__onMouseUp=function(){var t=this;this.prop.enabled&&this.prop.handler.up((function(){return t.psv.dynamics.zoom.stop()}))},e}(bt);Nt.groupId="zoom";var Rt=function(t){function e(e){return t.call(this,e,!1)||this}return a(e,t),e}(Nt);Rt.id="zoomIn",Rt.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M8.728 4.009H6.744v2.737H4.006V8.73h2.738v2.736h1.984V8.73h2.737V6.746H8.728z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n';var It=function(t){function e(e){return t.call(this,e,!0)||this}return a(e,t),e}(Nt);It.id="zoomOut",It.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M4.006 6.746h7.459V8.73H4.006z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n';var Dt=function(t){function e(e){var i;return i=t.call(this,e,"psv-zoom-range",!1,!1)||this,i.prop=r({},i.prop,{mediaMinWidth:0}),i.zoomRange=document.createElement("div"),i.zoomRange.className="psv-zoom-range-line",i.container.appendChild(i.zoomRange),i.zoomValue=document.createElement("div"),i.zoomValue.className="psv-zoom-range-handle",i.zoomRange.appendChild(i.zoomValue),i.slider=new ft({container:i.container,direction:ft.HORIZONTAL,onUpdate:function(t){return i.__onSliderUpdate(t)}}),i.prop.mediaMinWidth=parseInt(L(i.container,"maxWidth"),10),i.psv.on(d.ZOOM_UPDATED,l(i)),i.psv.prop.ready?i.__moveZoomValue(i.psv.getZoomLevel()):i.psv.once(d.READY,l(i)),i.refreshUi(),i}a(e,t);var i=e.prototype;return i.destroy=function(){this.slider.destroy(),delete this.zoomRange,delete this.zoomValue,this.psv.off(d.ZOOM_UPDATED,this),this.psv.off(d.READY,this),t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case d.ZOOM_UPDATED:this.__moveZoomValue(t.args[0]);break;case d.READY:this.__moveZoomValue(this.psv.getZoomLevel());break}},i.isSupported=function(){return{initial:!_.isTouchEnabled.initial,promise:_.isTouchEnabled.promise.then((function(t){return!t}))}},i.refreshUi=function(){this.prop.supported&&(this.psv.prop.size.width<=this.prop.mediaMinWidth&&this.prop.visible?this.hide():this.psv.prop.size.width>this.prop.mediaMinWidth&&!this.prop.visible&&this.show())},i.onClick=function(){},i.__moveZoomValue=function(t){this.zoomValue.style.left=t/100*this.zoomRange.offsetWidth-this.zoomValue.offsetWidth/2+"px"},i.__onSliderUpdate=function(t){t.mousedown&&this.psv.zoom(100*t.value)},e}(bt);Dt.id="zoomRange",Dt.groupId="zoom";var Ht,zt=function(t){function e(e){var i;return i=t.call(this)||this,i.psv=e,i}a(e,t);var i=e.prototype;return i.init=function(){},i.destroy=function(){delete this.psv},e}(i.EventEmitter);zt.id=null;var Ut={panorama:null,overlay:null,overlayOpacity:1,container:null,adapter:null,plugins:[],caption:null,description:null,downloadUrl:null,loadingImg:null,loadingTxt:"Loading...",size:null,fisheye:!1,minFov:30,maxFov:90,defaultZoomLvl:50,defaultLong:0,defaultLat:0,sphereCorrection:null,moveSpeed:1,zoomSpeed:1,autorotateDelay:null,autorotateIdle:!1,autorotateSpeed:"2rpm",autorotateLat:null,autorotateZoomLvl:null,moveInertia:!0,mousewheel:!0,mousemove:!0,mousewheelCtrlKey:!1,touchmoveTwoFingers:!1,useXmpData:!0,panoData:null,requestHeaders:null,canvasBackground:"#000",withCredentials:!1,navbar:["autorotate","zoom","move","download","description","caption","fullscreen"],lang:{autorotate:"Automatic rotation",zoom:"Zoom",zoomOut:"Zoom out",zoomIn:"Zoom in",move:"Move",download:"Download",fullscreen:"Fullscreen",menu:"Menu",twoFingers:"Use two fingers to navigate",ctrlZoom:"Use ctrl + scroll to zoom the image",loadError:"The panorama can't be loaded"},keyboard:(Ht={},Ht[b.ArrowUp]=u.ROTATE_LAT_UP,Ht[b.ArrowDown]=u.ROTATE_LAT_DOWN,Ht[b.ArrowRight]=u.ROTATE_LONG_RIGHT,Ht[b.ArrowLeft]=u.ROTATE_LONG_LEFT,Ht[b.PageUp]=u.ZOOM_IN,Ht[b.PageDown]=u.ZOOM_OUT,Ht[b.Plus]=u.ZOOM_IN,Ht[b.Minus]=u.ZOOM_OUT,Ht[b.Space]=u.TOGGLE_AUTOROTATE,Ht)},Vt={panorama:"Use setPanorama method to change the panorama",panoData:"Use setPanorama method to change the panorama",container:"Cannot change viewer container",adapter:"Cannot change adapter",plugins:"Cannot change plugins"},Ft={captureCursor:"captureCursor is deprecated"},jt={container:function(t){if(!t)throw new c("No value given for container.");return t},adapter:function(t){if(t=t?Array.isArray(t)?[K(t[0],h),t[1]]:[K(t,h)]:[gt],!t[0])throw new c("Un undefined value with given for adapter.");return t},overlayOpacity:function(t){return e.MathUtils.clamp(t,0,1)},defaultLong:function(t){return at(t)},defaultLat:function(t){return at(t,!0)},defaultZoomLvl:function(t){return e.MathUtils.clamp(t,0,100)},minFov:function(t,i){return i.maxFov<t&&(X("maxFov cannot be lower than minFov"),t=i.maxFov),e.MathUtils.clamp(t,1,179)},maxFov:function(t,i){return t<i.minFov&&(t=i.minFov),e.MathUtils.clamp(t,1,179)},lang:function(t){return Array.isArray(t.twoFingers)&&(X("lang.twoFingers must not be an array"),t.twoFingers=t.twoFingers[0]),r({},Ut.lang,t)},keyboard:function(t){return!0===t?F(Ut.keyboard):t},autorotateLat:function(t,e){return at(null===t?e.defaultLat:t,!0)},autorotateZoomLvl:function(t){return Y(t)?null:e.MathUtils.clamp(t,0,100)},autorotateSpeed:function(t){return st(t)},autorotateIdle:function(t,e){return t&&Y(e.autorotateDelay)?(X("autorotateIdle requires a non null autorotateDelay"),!1):t},fisheye:function(t){return!0===t?1:!1===t?0:t},plugins:function(t){return t.map((function(t){if(t=Array.isArray(t)?[K(t[0],zt),t[1]]:[K(t,zt)],!t[0])throw new c("Un undefined value was given for plugins.");return t}))}};var Wt=function(t){function e(e,i){var o;return o=t.call(this,e,"psv-caption")||this,o.prop=r({},o.prop,{id:o.constructor.id,collapsable:!1,width:0,contentWidth:0}),o.content=document.createElement("div"),o.content.className="psv-caption-content",o.container.appendChild(o.content),o.setCaption(i),o}a(e,t);var i=e.prototype;return i.destroy=function(){delete this.content,t.prototype.destroy.call(this)},i.setCaption=function(t){this.show(),this.content.innerHTML=t,this.prop.contentWidth=t?this.content.offsetWidth:0,this.refreshUi()},i.refreshUi=function(){this.toggle(this.container.offsetWidth>=this.prop.contentWidth),this.__refreshButton()},i.hide=function(){this.content.style.display="none",this.prop.visible=!1},i.show=function(){this.content.style.display="",this.prop.visible=!0},i.__refreshButton=function(){var t;null==(t=this.psv.navbar.getButton(yt.id,!1))||t.refreshUi(!0)},e}(mt);Wt.id="caption";var Yt={},Bt={};function Zt(t,e){if(!t.id)throw new c("Button ID is required");if(Yt[t.id]=t,t.groupId&&(Bt[t.groupId]=Bt[t.groupId]||[],Bt[t.groupId].push(t)),"string"===typeof e)switch(e){case"start":Ut.navbar.unshift(t.id);break;case"end":Ut.navbar.push(t.id);break;default:var i=e.split(":"),o=i[0],n=i[1];Ut.navbar.splice(Ut.navbar.indexOf(o)+("right"===n?1:0),0,t.id)}}[wt,It,Dt,Rt,yt,xt,Et,Pt,Lt,Ct,At].forEach(Zt);var Kt=function(t){function e(e){var i;return i=t.call(this,e,"psv-navbar psv--capture-event")||this,i.children=[],i.collapsed=[],i}a(e,t);var i=e.prototype;return i.setButtons=function(t){var e=this;this.children.slice().forEach((function(t){return t.destroy()})),this.children.length=0;var i=this.__cleanButtons(t);-1!==i.indexOf(Wt.id)&&-1===i.indexOf(yt.id)&&i.splice(i.indexOf(Wt.id),0,yt.id),i.forEach((function(t){if("object"===s(t))new _t(e,t);else if(Yt[t])new Yt[t](e);else if(Bt[t])Bt[t].forEach((function(t){return new t(e)}));else{if(t!==Wt.id)throw new c("Unknown button "+t);new Wt(e,e.psv.config.caption)}})),new kt(this),this.children.forEach((function(t){"function"===typeof t.checkSupported&&t.checkSupported()}))},i.setCaption=function(t){var e=this.getButton(Wt.id,!1);null==e||e.setCaption(t)},i.getButton=function(t,e){void 0===e&&(e=!0);var i=null;return this.children.some((function(e){return e.prop.id===t&&(i=e,!0)})),!i&&e&&X('button "'+t+'" not found in the navbar'),i},i.show=function(){this.container.classList.add("psv-navbar--open"),this.prop.visible=!0},i.hide=function(){this.container.classList.remove("psv-navbar--open"),this.prop.visible=!1},i.refreshUi=function(){if(t.prototype.refreshUi.call(this),!0===this.psv.prop.uiRefresh){var e=this.container.offsetWidth,i=0,o=[],n=[];if(this.children.forEach((function(t){t.prop.visible&&(i+=t.prop.width,o.push(t),t.prop.collapsable&&n.push(t))})),!o.length)return;e<i&&n.length>0?(n.forEach((function(t){return t.collapse()})),this.collapsed=n,this.getButton(kt.id).show(!1)):e>=i&&this.collapsed.length>0&&(this.collapsed.forEach((function(t){return t.uncollapse()})),this.collapsed=[],this.getButton(kt.id).hide(!1));var r=this.getButton(Wt.id,!1);r&&r.refreshUi()}},i.__cleanButtons=function(t){return!0===t?F(Ut.navbar):"string"===typeof t?t.split(/[ ,]/):t||[]},e}(mt),Gt=function(t){function i(e){var i;return i=t.call(this,e,"psv-loader-container")||this,i.loader=document.createElement("div"),i.loader.className="psv-loader",i.container.appendChild(i.loader),i.canvas=document.createElement("canvas"),i.canvas.className="psv-loader-canvas",i.canvas.width=i.loader.clientWidth*_.pixelRatio,i.canvas.height=i.loader.clientWidth*_.pixelRatio,i.loader.appendChild(i.canvas),i.prop=r({},i.prop,{tickness:(i.loader.offsetWidth-i.loader.clientWidth)/2*_.pixelRatio,current:null}),i.refreshUi(),i.hide(),i}a(i,t);var o=i.prototype;return o.destroy=function(){delete this.loader,delete this.canvas,t.prototype.destroy.call(this)},o.refreshUi=function(){if(this.prop.current!==(this.psv.config.loadingImg||this.psv.config.loadingTxt)){var t;if(this.prop.current&&this.loader.removeChild(this.loader.lastChild),this.psv.config.loadingImg?(t=document.createElement("img"),t.className="psv-loader-image",t.src=this.psv.config.loadingImg):this.psv.config.loadingTxt&&(t=document.createElement("div"),t.className="psv-loader-text",t.innerHTML=this.psv.config.loadingTxt),t){var e=Math.round(Math.sqrt(2*Math.pow((this.canvas.width/2-this.prop.tickness/2)/_.pixelRatio,2)));t.style.maxWidth=e+"px",t.style.maxHeight=e+"px",this.loader.appendChild(t)}this.prop.current=this.psv.config.loadingImg||this.psv.config.loadingTxt}},o.setProgress=function(t){var i=this.canvas.getContext("2d");i.clearRect(0,0,this.canvas.width,this.canvas.height),i.lineWidth=this.prop.tickness,i.strokeStyle=L(this.loader,"color"),i.beginPath(),i.arc(this.canvas.width/2,this.canvas.height/2,this.canvas.width/2-this.prop.tickness/2,-Math.PI/2,e.MathUtils.clamp(t,0,100)/100*2*Math.PI-Math.PI/2),i.stroke(),this.psv.trigger(d.LOAD_PROGRESS,Math.round(t))},i}(mt),$t=function(t){function e(e){var i;return i=t.call(this,e,"psv-notification")||this,i.prop=r({},i.prop,{visible:!1,contentId:void 0,timeout:null}),i.content=document.createElement("div"),i.content.className="psv-notification-content",i.container.appendChild(i.content),i.content.addEventListener("click",(function(){return i.hide()})),i}a(e,t);var i=e.prototype;return i.destroy=function(){delete this.content,t.prototype.destroy.call(this)},i.isVisible=function(t){return this.prop.visible&&(!t||!this.prop.contentId||this.prop.contentId===t)},i.toggle=function(){throw new c("Notification cannot be toggled")},i.show=function(t){var e=this;this.prop.timeout&&(clearTimeout(this.prop.timeout),this.prop.timeout=null),"string"===typeof t&&(t={content:t}),this.prop.contentId=t.id,this.content.innerHTML=t.content,this.container.classList.add("psv-notification--visible"),this.prop.visible=!0,this.psv.trigger(d.SHOW_NOTIFICATION,t.id),t.timeout&&(this.prop.timeout=setTimeout((function(){return e.hide(t.id)}),t.timeout))},i.hide=function(t){if(this.isVisible(t)){var e=this.prop.contentId;this.container.classList.remove("psv-notification--visible"),this.prop.visible=!1,this.prop.contentId=void 0,this.psv.trigger(d.HIDE_NOTIFICATION,e)}},e}(mt),Xt=function(t){function e(e){var i;return i=t.call(this,e,"psv-overlay")||this,i.prop=r({},i.prop,{contentId:void 0,dissmisable:!0}),i.image=document.createElement("div"),i.image.className="psv-overlay-image",i.container.appendChild(i.image),i.text=document.createElement("div"),i.text.className="psv-overlay-text",i.container.appendChild(i.text),i.subtext=document.createElement("div"),i.subtext.className="psv-overlay-subtext",i.container.appendChild(i.subtext),i.psv.on(d.CLICK,l(i)),i.psv.on(d.KEY_PRESS,l(i)),t.prototype.hide.call(l(i)),i}a(e,t);var i=e.prototype;return i.destroy=function(){this.psv.off(d.CLICK,this),this.psv.off(d.KEY_PRESS,this),delete this.image,delete this.text,delete this.subtext,t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case d.CLICK:this.isVisible()&&this.prop.dissmisable&&(this.hide(),t.stopPropagation());break;case d.KEY_PRESS:this.isVisible()&&this.prop.dissmisable&&t.args[0]===b.Escape&&(this.hide(),t.preventDefault());break}},i.isVisible=function(t){return this.prop.visible&&(!t||!this.prop.contentId||this.prop.contentId===t)},i.toggle=function(){throw new c("Overlay cannot be toggled")},i.show=function(e){"string"===typeof e&&(e={text:e}),this.prop.contentId=e.id,this.prop.dissmisable=!1!==e.dissmisable,this.image.innerHTML=e.image||"",this.text.innerHTML=e.text||"",this.subtext.innerHTML=e.subtext||"",t.prototype.show.call(this),this.psv.trigger(d.SHOW_OVERLAY,e.id)},i.hide=function(e){if(this.isVisible(e)){var i=this.prop.contentId;t.prototype.hide.call(this),this.prop.contentId=void 0,this.psv.trigger(d.HIDE_OVERLAY,i)}},e}(mt),qt=function(t){function e(e){var i;i=t.call(this,e,"psv-panel psv--capture-event")||this,i.prop=r({},i.prop,{visible:!1,contentId:void 0,mouseX:0,mouseY:0,mousedown:!1,clickHandler:null,keyHandler:null,width:{}});var o=document.createElement("div");o.className="psv-panel-resizer",i.container.appendChild(o);var n=document.createElement("div");return n.className="psv-panel-close-button",i.container.appendChild(n),i.content=document.createElement("div"),i.content.className="psv-panel-content",i.container.appendChild(i.content),i.container.addEventListener(_.mouseWheelEvent,(function(t){return t.stopPropagation()})),n.addEventListener("click",(function(){return i.hide()})),o.addEventListener("mousedown",l(i)),o.addEventListener("touchstart",l(i)),i.psv.container.addEventListener("mouseup",l(i)),i.psv.container.addEventListener("touchend",l(i)),i.psv.container.addEventListener("mousemove",l(i)),i.psv.container.addEventListener("touchmove",l(i)),i.psv.on(d.KEY_PRESS,l(i)),i}a(e,t);var i=e.prototype;return i.destroy=function(){this.psv.off(d.KEY_PRESS,this),this.psv.container.removeEventListener("mousemove",this),this.psv.container.removeEventListener("touchmove",this),this.psv.container.removeEventListener("mouseup",this),this.psv.container.removeEventListener("touchend",this),delete this.prop,delete this.content,t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case"mousedown":this.__onMouseDown(t);break;case"touchstart":this.__onTouchStart(t);break;case"mousemove":this.__onMouseMove(t);break;case"touchmove":this.__onTouchMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchend":this.__onMouseUp(t);break;case d.KEY_PRESS:this.isVisible()&&t.args[0]===b.Escape&&(this.hide(),t.preventDefault());break}},i.isVisible=function(t){return this.prop.visible&&(!t||!this.prop.contentId||this.prop.contentId===t)},i.toggle=function(){throw new c("Panel cannot be toggled")},i.show=function(t){var e=this,i=this.isVisible(t.id);"string"===typeof t&&(t={content:t}),this.prop.contentId=t.id,this.prop.visible=!0,this.prop.clickHandler&&(this.content.removeEventListener("click",this.prop.clickHandler),this.content.removeEventListener("keydown",this.prop.keyHandler),this.prop.clickHandler=null,this.prop.keyHandler=null),t.id&&this.prop.width[t.id]?this.container.style.width=this.prop.width[t.id]:t.width?this.container.style.width=t.width:this.container.style.width=null,this.content.innerHTML=t.content,this.content.scrollTop=0,this.container.classList.add("psv-panel--open"),E(this.content,"psv-panel-content--no-margin",!0===t.noMargin),t.clickHandler&&(this.prop.clickHandler=t.clickHandler,this.prop.keyHandler=function(e){e.key===b.Enter&&t.clickHandler(e)},this.content.addEventListener("click",this.prop.clickHandler),this.content.addEventListener("keydown",this.prop.keyHandler),i||setTimeout((function(){var t;null==(t=e.content.querySelector("a,button,[tabindex]"))||t.focus()}),300)),this.psv.trigger(d.OPEN_PANEL,t.id)},i.hide=function(t){if(this.isVisible(t)){var e=this.prop.contentId;this.prop.visible=!1,this.prop.contentId=void 0,this.content.innerHTML=null,this.container.classList.remove("psv-panel--open"),this.prop.clickHandler&&(this.content.removeEventListener("click",this.prop.clickHandler),this.prop.clickHandler=null),this.psv.trigger(d.CLOSE_PANEL,e)}},i.__onMouseDown=function(t){t.stopPropagation(),this.__startResize(t)},i.__onTouchStart=function(t){t.stopPropagation(),this.__startResize(t.changedTouches[0])},i.__onMouseUp=function(t){this.prop.mousedown&&(t.stopPropagation(),this.prop.mousedown=!1,this.content.classList.remove("psv-panel-content--no-interaction"))},i.__onMouseMove=function(t){this.prop.mousedown&&(t.stopPropagation(),this.__resize(t))},i.__onTouchMove=function(t){this.prop.mousedown&&this.__resize(t.touches[0])},i.__startResize=function(t){this.prop.mouseX=t.clientX,this.prop.mouseY=t.clientY,this.prop.mousedown=!0,this.content.classList.add("psv-panel-content--no-interaction")},i.__resize=function(t){var e=t.clientX,i=t.clientY,o=Math.max(200,this.container.offsetWidth-(e-this.prop.mouseX))+"px";this.prop.contentId&&(this.prop.width[this.prop.contentId]=o),this.container.style.width=o,this.prop.mouseX=e,this.prop.mouseY=i},e}(mt),Jt=function(){function t(t){this.psv=t,this.config=t.config,this.prop=t.prop}var e=t.prototype;return e.destroy=function(){delete this.psv,delete this.config,delete this.prop},t}(),Qt=new e.Vector2,te=new e.Vector3,ee=new e.Euler(0,0,0,"ZXY"),ie=function(t){function i(e){return t.call(this,e)||this}a(i,t);var o=i.prototype;return o.fovToZoomLevel=function(t){var e=Math.round((t-this.config.minFov)/(this.config.maxFov-this.config.minFov)*100);return e-2*(e-50)},o.zoomLevelToFov=function(t){return this.config.maxFov+t/100*(this.config.minFov-this.config.maxFov)},o.vFovToHFov=function(t){return e.MathUtils.radToDeg(2*Math.atan(Math.tan(e.MathUtils.degToRad(t)/2)*this.prop.aspect))},o.speedToDuration=function(t,e){if(t&&"number"===typeof t)return Math.abs(t);var i=t?st(t):this.config.autorotateSpeed;return e/Math.abs(i)*1e3},o.textureCoordsToSphericalCoords=function(t){var e=this.prop.panoData;if(!e)throw new c("Current adapter does not support texture coordinates.");var i=(t.x+e.croppedX)/e.fullWidth*Math.PI*2,o=(t.y+e.croppedY)/e.fullHeight*Math.PI,n={longitude:i>=Math.PI?i-Math.PI:i+Math.PI,latitude:Math.PI/2-o};return ee.equals(this.psv.renderer.mesh.rotation)&&ee.equals(this.psv.renderer.meshContainer.rotation)?n:(this.sphericalCoordsToVector3(n,te),te.applyEuler(this.psv.renderer.mesh.rotation),te.applyEuler(this.psv.renderer.meshContainer.rotation),this.vector3ToSphericalCoords(te))},o.sphericalCoordsToTextureCoords=function(t){var e=this.prop.panoData;if(!e)throw new c("Current adapter does not support texture coordinates.");ee.equals(this.psv.renderer.mesh.rotation)&&ee.equals(this.psv.renderer.meshContainer.rotation)||(this.sphericalCoordsToVector3(t,te),ct(te,this.psv.renderer.meshContainer.rotation),ct(te,this.psv.renderer.mesh.rotation),t=this.vector3ToSphericalCoords(te));var i=t.longitude/Math.PI/2*e.fullWidth,o=t.latitude/Math.PI*e.fullHeight;return{x:Math.round(t.longitude<Math.PI?i+e.fullWidth/2:i-e.fullWidth/2)-e.croppedX,y:Math.round(e.fullHeight/2-o)-e.croppedY}},o.sphericalCoordsToVector3=function(t,i){return i||(i=new e.Vector3),i.x=10*-Math.cos(t.latitude)*Math.sin(t.longitude),i.y=10*Math.sin(t.latitude),i.z=10*Math.cos(t.latitude)*Math.cos(t.longitude),i},o.vector3ToSphericalCoords=function(t){var e=Math.acos(t.y/Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)),i=Math.atan2(t.x,t.z);return{longitude:i<0?-i:2*Math.PI-i,latitude:Math.PI/2-e}},o.viewerCoordsToVector3=function(t){var e=this.getIntersections(t).filter((function(t){return t.object.userData["psvSphere"]}));return e.length?e[0].point:null},o.vector3ToViewerCoords=function(t){var e=t.clone();return e.project(this.psv.renderer.camera),{x:Math.round((e.x+1)/2*this.prop.size.width),y:Math.round((1-e.y)/2*this.prop.size.height)}},o.sphericalCoordsToViewerCoords=function(t){return this.vector3ToViewerCoords(this.sphericalCoordsToVector3(t,te))},o.getIntersections=function(t){return Qt.x=2*t.x/this.prop.size.width-1,Qt.y=-2*t.y/this.prop.size.height+1,this.psv.renderer.raycaster.setFromCamera(Qt,this.psv.renderer.camera),this.psv.renderer.raycaster.intersectObjects(this.psv.renderer.scene.children,!0).filter((function(t){return!!t.object.userData}))},o.cleanPosition=function(t){return void 0!==t.x&&void 0!==t.y?this.textureCoordsToSphericalCoords(t):{longitude:at(t.longitude),latitude:at(t.latitude,!this.prop.littlePlanet)}},o.cleanSphereCorrection=function(t){return{pan:at((null==t?void 0:t.pan)||0),tilt:at((null==t?void 0:t.tilt)||0,!0),roll:at((null==t?void 0:t.roll)||0,!0,!1)}},o.cleanPanoramaPose=function(t){return{pan:e.MathUtils.degToRad((null==t?void 0:t.poseHeading)||0),tilt:e.MathUtils.degToRad((null==t?void 0:t.posePitch)||0),roll:e.MathUtils.degToRad((null==t?void 0:t.poseRoll)||0)}},i}(Jt),oe=function(t){function i(e){var i;return i=t.call(this,e)||this,i.state={moveThreshold:4*_.pixelRatio,keyboardEnabled:!1,step:0,mousedown:!1,startMouseX:0,startMouseY:0,mouseX:0,mouseY:0,mouseHistory:[],pinchDist:0,keyHandler:new Mt,ctrlKeyDown:!1,dblclickData:null,dblclickTimeout:null,longtouchTimeout:null,twofingersTimeout:null,ctrlZoomTimeout:null},i.__onResize=z((function(){return i.psv.autoSize()}),50),i}a(i,t);var o=i.prototype;return o.init=function(){window.addEventListener("resize",this),window.addEventListener("keydown",this,{passive:!1}),window.addEventListener("keyup",this),this.psv.container.addEventListener("mousedown",this),window.addEventListener("mousemove",this,{passive:!1}),window.addEventListener("mouseup",this),this.psv.container.addEventListener("touchstart",this,{passive:!1}),window.addEventListener("touchmove",this,{passive:!1}),window.addEventListener("touchend",this,{passive:!1}),this.psv.container.addEventListener(_.mouseWheelEvent,this,{passive:!1}),_.fullscreenEvent&&document.addEventListener(_.fullscreenEvent,this)},o.destroy=function(){window.removeEventListener("resize",this),window.removeEventListener("keydown",this),window.removeEventListener("keyup",this),this.psv.container.removeEventListener("mousedown",this),window.removeEventListener("mousemove",this),window.removeEventListener("mouseup",this),this.psv.container.removeEventListener("touchstart",this),window.removeEventListener("touchmove",this),window.removeEventListener("touchend",this),this.psv.container.removeEventListener(_.mouseWheelEvent,this),_.fullscreenEvent&&document.removeEventListener(_.fullscreenEvent,this),clearTimeout(this.state.dblclickTimeout),clearTimeout(this.state.longtouchTimeout),clearTimeout(this.state.twofingersTimeout),clearTimeout(this.state.ctrlZoomTimeout),delete this.state,t.prototype.destroy.call(this)},o.handleEvent=function(t){switch(t.type){case"resize":this.__onResize();break;case"keydown":this.__onKeyDown(t);break;case"keyup":this.__onKeyUp();break;case"mousemove":this.__onMouseMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchmove":this.__onTouchMove(t);break;case"touchend":this.__onTouchEnd(t);break;case _.fullscreenEvent:this.__fullscreenToggled();break}if(!M(t.target,".psv--capture-event"))switch(t.type){case"mousedown":this.__onMouseDown(t);break;case"touchstart":this.__onTouchStart(t);break;case _.mouseWheelEvent:this.__onMouseWheel(t);break}},o.enableKeyboard=function(){this.state.keyboardEnabled=!0},o.disableKeyboard=function(){this.state.keyboardEnabled=!1},o.__onKeyDown=function(t){this.config.mousewheelCtrlKey&&(this.state.ctrlKeyDown=t.key===b.Control,this.state.ctrlKeyDown&&(clearTimeout(this.state.ctrlZoomTimeout),this.psv.overlay.hide(g.CTRL_ZOOM)));var e=this.psv.trigger(d.KEY_PRESS,t.key);if(!e.isDefaultPrevented()&&this.state.keyboardEnabled){var i=this.config.keyboard[t.key];if(i===u.TOGGLE_AUTOROTATE)this.psv.toggleAutorotate(),t.preventDefault();else if(i&&!this.state.keyHandler.time){switch(i!==u.ZOOM_IN&&i!==u.ZOOM_OUT&&this.psv.__stopAll(),i){case u.ROTATE_LAT_UP:this.psv.dynamics.position.roll({latitude:!1});break;case u.ROTATE_LAT_DOWN:this.psv.dynamics.position.roll({latitude:!0});break;case u.ROTATE_LONG_RIGHT:this.psv.dynamics.position.roll({longitude:!1});break;case u.ROTATE_LONG_LEFT:this.psv.dynamics.position.roll({longitude:!0});break;case u.ZOOM_IN:this.psv.dynamics.zoom.roll(!1);break;case u.ZOOM_OUT:this.psv.dynamics.zoom.roll(!0);break}this.state.keyHandler.down(),t.preventDefault()}}},o.__onKeyUp=function(){var t=this;this.state.ctrlKeyDown=!1,this.state.keyboardEnabled&&this.state.keyHandler.up((function(){t.psv.dynamics.position.stop(),t.psv.dynamics.zoom.stop(),t.psv.resetIdleTimer()}))},o.__onMouseDown=function(t){this.state.mousedown=!0,this.state.startMouseX=t.clientX,this.state.startMouseY=t.clientY},o.__onMouseUp=function(t){(this.state.mousedown||1===this.state.step)&&this.__stopMove(t.clientX,t.clientY,t.target,2===t.button)},o.__onMouseMove=function(t){if(this.config.mousemove&&(this.state.mousedown||1===this.state.step)&&(t.preventDefault(),this.__move(t.clientX,t.clientY)),!j(this.prop.objectsObservers)&&k(t.target,this.psv.container)){var e=O(this.psv.container),i={x:t.clientX-e.left,y:t.clientY-e.top},o=this.psv.dataHelper.getIntersections(i),n=function(e,o,n){e.listener.handleEvent(new CustomEvent(n,{detail:{originalEvent:t,object:e.object,data:e.object.userData[o],viewerPoint:i}}))};W(this.prop.objectsObservers,(function(t,e){var i=o.find((function(t){return t.object.userData[e]}));i?(t.object&&i.object!==t.object&&(n(t,e,v.LEAVE_OBJECT),delete t.object),t.object?n(t,e,v.HOVER_OBJECT):(t.object=i.object,n(t,e,v.ENTER_OBJECT))):t.object&&(n(t,e,v.LEAVE_OBJECT),delete t.object)}))}},o.__onTouchStart=function(t){var e=this;1===t.touches.length?(this.state.mousedown=!0,this.state.startMouseX=t.touches[0].clientX,this.state.startMouseY=t.touches[0].clientY,this.prop.longtouchTimeout||(this.prop.longtouchTimeout=setTimeout((function(){var i=t.touches[0];e.__stopMove(i.clientX,i.clientY,i.target,!0),e.prop.longtouchTimeout=null}),500))):2===t.touches.length&&(this.state.mousedown=!1,this.__cancelLongTouch(),this.config.mousemove&&(this.__cancelTwoFingersOverlay(),this.__startMoveZoom(t),t.preventDefault()))},o.__onTouchEnd=function(t){if(this.__cancelLongTouch(),this.state.mousedown||1===this.state.step)if(t.preventDefault(),this.__cancelTwoFingersOverlay(),1===t.touches.length)this.__stopMove(this.state.mouseX,this.state.mouseY);else if(0===t.touches.length){var e=t.changedTouches[0];this.__stopMove(e.clientX,e.clientY,e.target)}},o.__onTouchMove=function(t){var e=this;if(this.__cancelLongTouch(),this.config.mousemove)if(1===t.touches.length){if(this.config.touchmoveTwoFingers)this.state.mousedown&&!this.prop.twofingersTimeout&&(this.prop.twofingersTimeout=setTimeout((function(){e.psv.overlay.show({id:g.TWO_FINGERS,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M33.38 33.2a1.96 1.96 0 0 0 1.5-3.23 10.61 10.61 0 0 1 7.18-17.51c.7-.06 1.31-.49 1.61-1.12a13.02 13.02 0 0 1 11.74-7.43c7.14 0 12.96 5.8 12.96 12.9 0 3.07-1.1 6.05-3.1 8.38-.7.82-.61 2.05.21 2.76.83.7 2.07.6 2.78-.22a16.77 16.77 0 0 0 4.04-10.91C72.3 7.54 64.72 0 55.4 0a16.98 16.98 0 0 0-14.79 8.7 14.6 14.6 0 0 0-12.23 14.36c0 3.46 1.25 6.82 3.5 9.45.4.45.94.69 1.5.69m45.74 43.55a22.13 22.13 0 0 1-5.23 12.4c-4 4.55-9.53 6.86-16.42 6.86-12.6 0-20.1-10.8-20.17-10.91a1.82 1.82 0 0 0-.08-.1c-5.3-6.83-14.55-23.82-17.27-28.87-.05-.1 0-.21.02-.23a6.3 6.3 0 0 1 8.24 1.85l9.38 12.59a1.97 1.97 0 0 0 3.54-1.17V25.34a4 4 0 0 1 1.19-2.87 3.32 3.32 0 0 1 2.4-.95c1.88.05 3.4 1.82 3.4 3.94v24.32a1.96 1.96 0 0 0 3.93 0v-33.1a3.5 3.5 0 0 1 7 0v35.39a1.96 1.96 0 0 0 3.93 0v-.44c.05-2.05 1.6-3.7 3.49-3.7 1.93 0 3.5 1.7 3.5 3.82v5.63c0 .24.04.48.13.71l.1.26a1.97 1.97 0 0 0 3.76-.37c.33-1.78 1.77-3.07 3.43-3.07 1.9 0 3.45 1.67 3.5 3.74l-1.77 18.1zM77.39 51c-1.25 0-2.45.32-3.5.9v-.15c0-4.27-3.33-7.74-7.42-7.74-1.26 0-2.45.33-3.5.9V16.69a7.42 7.42 0 0 0-14.85 0v1.86a7 7 0 0 0-3.28-.94 7.21 7.21 0 0 0-5.26 2.07 7.92 7.92 0 0 0-2.38 5.67v37.9l-5.83-7.82a10.2 10.2 0 0 0-13.35-2.92 4.1 4.1 0 0 0-1.53 5.48C20 64.52 28.74 80.45 34.07 87.34c.72 1.04 9.02 12.59 23.4 12.59 7.96 0 14.66-2.84 19.38-8.2a26.06 26.06 0 0 0 6.18-14.6l1.78-18.2v-.2c0-4.26-3.32-7.73-7.42-7.73z"/>\x3c!--Created by AomAm from the Noun Project--\x3e</svg>\n',text:e.config.lang.twoFingers})}),100));else if(this.state.mousedown||1===this.state.step){t.preventDefault();var i=t.touches[0];this.__move(i.clientX,i.clientY)}}else this.__moveZoom(t),this.__cancelTwoFingersOverlay()},o.__cancelLongTouch=function(){this.prop.longtouchTimeout&&(clearTimeout(this.prop.longtouchTimeout),this.prop.longtouchTimeout=null)},o.__cancelTwoFingersOverlay=function(){this.config.touchmoveTwoFingers&&(this.prop.twofingersTimeout&&(clearTimeout(this.prop.twofingersTimeout),this.prop.twofingersTimeout=null),this.psv.overlay.hide(g.TWO_FINGERS))},o.__onMouseWheel=function(t){var e=this;if(this.config.mousewheel){if(this.config.mousewheelCtrlKey&&!this.state.ctrlKeyDown)return this.psv.overlay.show({id:g.CTRL_ZOOM,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 17 79 79"><path fill="currentColor" d="M38.1 29.27c-.24 0-.44.2-.44.45v10.7a.45.45 0 00.9 0v-10.7c0-.25-.2-.45-.45-.45zm10.2 26.66a11.54 11.54 0 01-8.48-6.14.45.45 0 10-.8.41 12.45 12.45 0 009.22 6.62.45.45 0 00.07-.9zm24.55-13.08a23.04 23.04 0 00-22.56-23v7.07l-.01.05a2.83 2.83 0 012.39 2.78v14.03l.09-.02h8.84v-9.22a.45.45 0 11.9 0v9.22h10.35v-.9zm0 27.33V44.66H62.5c-.02 2.01-.52 4-1.47 5.76a.45.45 0 01-.61.18.45.45 0 01-.19-.61 11.54 11.54 0 001.36-5.33h-8.83l-.1-.01a2.83 2.83 0 01-2.83 2.84h-.04-.04a2.83 2.83 0 01-2.83-2.83v-14.9a2.82 2.82 0 012.47-2.8v-7.11a23.04 23.04 0 00-22.57 23v.91h14.72V29.88a8.2 8.2 0 015.02-7.57c.22-.1.5.01.59.24.1.23-.01.5-.24.6a7.3 7.3 0 00-4.47 6.73v13.88h3.9a.45.45 0 110 .9h-3.9v.15a7.32 7.32 0 0011.23 6.17.45.45 0 01.49.76 8.22 8.22 0 01-12.62-6.93v-.15H26.82v25.52a23.04 23.04 0 0023.01 23.01 23.04 23.04 0 0023.02-23.01zm1.8-27.33v27.33A24.85 24.85 0 0149.84 95a24.85 24.85 0 01-24.82-24.82V42.85a24.85 24.85 0 0124.82-24.82 24.85 24.85 0 0124.83 24.82zM57.98 29.88v9.36a.45.45 0 11-.9 0v-9.36a7.28 7.28 0 00-3.4-6.17.45.45 0 01.49-.76 8.18 8.18 0 013.8 6.93z"/>\x3c!-- Created by Icon Island from the Noun Project --\x3e</svg>\n',text:this.config.lang.ctrlZoom}),clearTimeout(this.state.ctrlZoomTimeout),void(this.state.ctrlZoomTimeout=setTimeout((function(){return e.psv.overlay.hide(g.CTRL_ZOOM)}),2e3));t.preventDefault(),t.stopPropagation();var i=5*C(t).spinY*this.config.zoomSpeed;0!==i&&this.psv.dynamics.zoom.step(-i,5)}},o.__fullscreenToggled=function(t){this.prop.fullscreen=void 0!==t?t:S(this.psv.container),this.config.keyboard&&(this.prop.fullscreen?this.psv.startKeyboardControl():this.psv.stopKeyboardControl()),this.psv.trigger(d.FULLSCREEN_UPDATED,this.prop.fullscreen)},o.__resetMove=function(){this.state.step=0,this.state.mousedown=!1,this.state.mouseX=0,this.state.mouseY=0,this.state.startMouseX=0,this.state.startMouseY=0,this.state.mouseHistory.length=0},o.__startMoveZoom=function(t){this.psv.__stopAll(),this.__resetMove();var e={x:t.touches[0].clientX,y:t.touches[0].clientY},i={x:t.touches[1].clientX,y:t.touches[1].clientY};this.state.step=1,this.state.pinchDist=R(e,i),this.state.mouseX=(e.x+i.x)/2,this.state.mouseY=(e.y+i.y)/2,this.__logMouseMove(this.state.mouseX,this.state.mouseY)},o.__stopMove=function(t,e,i,o){void 0===i&&(i=null),void 0===o&&(o=!1),1===this.state.step?this.config.moveInertia?(this.__logMouseMove(t,e),this.__stopMoveInertia(t,e)):(this.__resetMove(),this.psv.resetIdleTimer()):this.state.mousedown&&(this.psv.stopAnimation(),this.__click(t,e,i,o),this.__resetMove(),this.psv.resetIdleTimer())},o.__stopMoveInertia=function(t,i){var o=this,n=new e.SplineCurve(this.state.mouseHistory.map((function(t){var i=t[1],o=t[2];return new e.Vector2(i,o)}))),r=n.getTangent(1),s=this.state.mouseHistory.slice(1).reduce((function(t,e){var i=t.total,o=t.prev;return{total:i+R({x:o[1],y:o[2]},{x:e[1],y:e[2]})/(e[0]-o[0]),prev:e}}),{total:0,prev:this.state.mouseHistory[0]}).total/this.state.mouseHistory.length;if(!s)return this.__resetMove(),void this.psv.resetIdleTimer();this.state.step=2;var a=t,p=i;this.prop.animationPromise=new ht({properties:{speed:{start:s,end:0}},duration:1e3,easing:"outQuad",onTick:function(t){a+=t.speed*r.x*3*_.pixelRatio,p+=t.speed*r.y*3*_.pixelRatio,o.__applyMove(a,p)}}),this.prop.animationPromise.then((function(t){o.prop.animationPromise=null,t&&(o.__resetMove(),o.psv.resetIdleTimer())}))},o.__click=function(t,e,i,o){var n=this;void 0===o&&(o=!1);var r=this.psv.container.getBoundingClientRect(),s={rightclick:o,target:i,clientX:t,clientY:e,viewerX:t-r.left,viewerY:e-r.top},a=this.psv.dataHelper.getIntersections({x:s.viewerX,y:s.viewerY}),p=a.find((function(t){return t.object.userData["psvSphere"]}));if(p){var l=this.psv.dataHelper.vector3ToSphericalCoords(p.point);s.longitude=l.longitude,s.latitude=l.latitude,s.objects=a.map((function(t){return t.object})).filter((function(t){return!t.userData["psvSphere"]}));try{var c=this.psv.dataHelper.sphericalCoordsToTextureCoords(s);s.textureX=c.x,s.textureY=c.y}catch(h){s.textureX=NaN,s.textureY=NaN}this.state.dblclickTimeout?(Math.abs(this.state.dblclickData.clientX-s.clientX)<this.state.moveThreshold&&Math.abs(this.state.dblclickData.clientY-s.clientY)<this.state.moveThreshold&&this.psv.trigger(d.DOUBLE_CLICK,this.state.dblclickData),clearTimeout(this.state.dblclickTimeout),this.state.dblclickTimeout=null,this.state.dblclickData=null):(this.psv.trigger(d.CLICK,s),this.state.dblclickData=F(s),this.state.dblclickTimeout=setTimeout((function(){n.state.dblclickTimeout=null,n.state.dblclickData=null}),300))}},o.__move=function(t,e){this.state.mousedown&&(Math.abs(t-this.state.startMouseX)>=this.state.moveThreshold||Math.abs(e-this.state.startMouseY)>=this.state.moveThreshold)?(this.psv.__stopAll(),this.__resetMove(),this.state.step=1,this.state.mouseX=t,this.state.mouseY=e,this.__logMouseMove(t,e)):1===this.state.step&&(this.__applyMove(t,e),this.__logMouseMove(t,e))},o.__applyMove=function(t,i){var o={longitude:(t-this.state.mouseX)/this.prop.size.width*this.config.moveSpeed*e.MathUtils.degToRad(this.prop.littlePlanet?90:this.prop.hFov),latitude:(i-this.state.mouseY)/this.prop.size.height*this.config.moveSpeed*e.MathUtils.degToRad(this.prop.littlePlanet?90:this.prop.vFov)},n=this.psv.getPosition();this.psv.rotate({longitude:n.longitude-o.longitude,latitude:n.latitude+o.latitude}),this.state.mouseX=t,this.state.mouseY=i},o.__moveZoom=function(t){if(1===this.state.step){t.preventDefault();var e={x:t.touches[0].clientX,y:t.touches[0].clientY},i={x:t.touches[1].clientX,y:t.touches[1].clientY},o=R(e,i),n=(o-this.state.pinchDist)/_.pixelRatio*this.config.zoomSpeed;this.psv.zoom(this.psv.getZoomLevel()+n),this.__move((e.x+i.x)/2,(e.y+i.y)/2),this.state.pinchDist=o}},o.__logMouseMove=function(t,e){var i=Date.now(),o=this.state.mouseHistory.length?this.state.mouseHistory[this.state.mouseHistory.length-1]:[0,-1,-1];o[1]===t&&o[2]===e?o[0]=i:i===o[0]?(o[1]=t,o[2]=e):this.state.mouseHistory.push([i,t,e]);for(var n=null,r=0;r<this.state.mouseHistory.length;)this.state.mouseHistory[r][0]<i-300?this.state.mouseHistory.splice(r,1):n&&this.state.mouseHistory[r][0]-n>30?(this.state.mouseHistory.splice(0,r),r=0,n=this.state.mouseHistory[r][0]):(n=this.state.mouseHistory[r][0],r++)},i}(Jt),ne=function(t){function i(i){var o,n;return n=t.call(this,i)||this,n.renderer=new e.WebGLRenderer({alpha:!0,antialias:!0}),n.renderer.setPixelRatio(_.pixelRatio),n.renderer.domElement.className="psv-canvas",n.scene=new e.Scene,n.camera=new e.PerspectiveCamera(50,16/9,.1,20),n.mesh=n.psv.adapter.createMesh(),n.mesh.userData=(o={},o["psvSphere"]=!0,o),n.meshContainer=new e.Group,n.meshContainer.add(n.mesh),n.scene.add(n.meshContainer),n.raycaster=new e.Raycaster,n.timestamp=null,n.ready=!1,n.canvasContainer=document.createElement("div"),n.canvasContainer.className="psv-canvas-container",n.canvasContainer.style.background=n.psv.config.canvasBackground,n.canvasContainer.style.cursor=n.psv.config.mousemove?"move":"default",n.canvasContainer.appendChild(n.renderer.domElement),n.psv.container.appendChild(n.canvasContainer),i.on(d.SIZE_UPDATED,l(n)),i.on(d.ZOOM_UPDATED,l(n)),i.on(d.POSITION_UPDATED,l(n)),i.on(d.CONFIG_CHANGED,l(n)),n.hide(),n}a(i,t);var o=i.prototype;return o.destroy=function(){this.renderer.setAnimationLoop(null),this.__cleanTHREEScene(this.scene),this.psv.container.removeChild(this.canvasContainer),delete this.canvasContainer,delete this.renderer,delete this.scene,delete this.camera,delete this.mesh,delete this.meshContainer,delete this.raycaster,t.prototype.destroy.call(this)},o.handleEvent=function(t){switch(t.type){case d.SIZE_UPDATED:this.__onSizeUpdated();break;case d.ZOOM_UPDATED:this.__onZoomUpdated();break;case d.POSITION_UPDATED:this.__onPositionUpdated();break;case d.CONFIG_CHANGED:t.args[0].includes("fisheye")&&this.__onPositionUpdated(),t.args[0].includes("mousemove")&&(this.canvasContainer.style.cursor=this.psv.config.mousemove?"move":"default");break}},o.hide=function(){this.canvasContainer.style.opacity=0},o.show=function(){this.canvasContainer.style.opacity=1},o.__onSizeUpdated=function(){this.renderer.setSize(this.prop.size.width,this.prop.size.height),this.camera.aspect=this.prop.aspect,this.camera.updateProjectionMatrix(),this.prop.needsUpdate=!0},o.__onZoomUpdated=function(){this.camera.fov=this.prop.vFov,this.camera.updateProjectionMatrix(),this.prop.needsUpdate=!0},o.__onPositionUpdated=function(){this.camera.position.set(0,0,0),this.camera.lookAt(this.prop.direction),this.config.fisheye&&this.camera.position.copy(this.prop.direction).multiplyScalar(this.config.fisheye/2).negate(),this.prop.needsUpdate=!0},o.__renderLoop=function(t){var e=null!==this.timestamp?t-this.timestamp:0;this.timestamp=t,this.psv.trigger(d.BEFORE_RENDER,t,e),W(this.psv.dynamics,(function(t){return t.update(e)})),this.prop.idleTime>0&&t-this.prop.idleTime>this.config.autorotateDelay&&this.psv.startAutorotate(),this.prop.needsUpdate&&(this.render(),this.prop.needsUpdate=!1)},o.render=function(){this.renderer.render(this.scene,this.camera),this.psv.trigger(d.RENDER)},o.setTexture=function(t){var e=this;this.prop.panoData=t.panoData,this.psv.adapter.setTexture(this.mesh,t),this.ready||(this.renderer.setAnimationLoop((function(t){return e.__renderLoop(t)})),this.ready=!0),this.psv.needsUpdate(),this.psv.trigger(d.PANORAMA_LOADED,t)},o.setOverlay=function(t,e){this.psv.adapter.setOverlay(this.mesh,t,e),this.psv.needsUpdate()},o.setPanoramaPose=function(t,e){void 0===e&&(e=this.mesh);var i=this.psv.dataHelper.cleanPanoramaPose(t);e.rotation.set(-i.tilt,-i.pan,-i.roll,"ZXY")},o.setSphereCorrection=function(t,e){void 0===e&&(e=this.meshContainer);var i=this.psv.dataHelper.cleanSphereCorrection(t);e.rotation.set(i.tilt,i.pan,i.roll,"ZXY")},o.transition=function(t,i){var o=this,n=q(i),r="zoom"in i,s=new e.Group,a=this.psv.adapter.createMesh(.5);if(this.psv.adapter.setTexture(a,t,!0),this.psv.adapter.setTextureOpacity(a,0),this.setPanoramaPose(t.panoData,a),this.setSphereCorrection(i.sphereCorrection,s),n){var p=this.psv.dataHelper.cleanPosition(i),l=this.psv.getPosition(),c=new e.Vector3(0,1,0);s.rotateOnWorldAxis(c,p.longitude-l.longitude);var h=new e.Vector3(0,1,0).cross(this.camera.getWorldDirection(new e.Vector3)).normalize();s.rotateOnWorldAxis(h,p.latitude-l.latitude)}s.add(a),this.scene.add(s);var u=new ht({properties:{opacity:{start:0,end:1},zoom:r?{start:this.psv.getZoomLevel(),end:i.zoom}:void 0},duration:i.transition,easing:"outCubic",onTick:function(t){o.psv.adapter.setTextureOpacity(a,t.opacity),o.psv.adapter.setTextureOpacity(o.mesh,1-t.opacity),r&&o.psv.zoom(t.zoom),o.psv.needsUpdate()}});return u.then((function(e){e?(o.setTexture(t),o.psv.adapter.setTextureOpacity(o.mesh,1),o.setPanoramaPose(t.panoData),o.setSphereCorrection(i.sphereCorrection),n&&o.psv.rotate(i)):o.psv.adapter.disposeTexture(t),o.scene.remove(s),a.geometry.dispose(),a.geometry=null})),u},o.__cleanTHREEScene=function(t){var i=this;t.traverse((function(o){o.geometry&&o.geometry.dispose(),o.material&&(Array.isArray(o.material)?o.material.forEach((function(t){t.map&&t.map.dispose(),t.dispose()})):(o.material.map&&o.material.map.dispose(),o.material.dispose())),!o.dispose||o instanceof e.Scene||o.dispose(),o!==t&&i.__cleanTHREEScene(o)}))},i}(Jt),re=function(t){function i(i){var o;return o=t.call(this,i)||this,o.loader=new e.FileLoader,o.loader.setResponseType("blob"),o.config.withCredentials&&o.loader.setWithCredentials(!0),o.config.requestHeaders&&"object"===s(o.config.requestHeaders)&&o.loader.setRequestHeader(o.config.requestHeaders),o}a(i,t);var o=i.prototype;return o.destroy=function(){this.abortLoading(),t.prototype.destroy.call(this)},o.abortLoading=function(){},o.loadFile=function(t,e){var i=this;return this.config.requestHeaders&&"function"===typeof this.config.requestHeaders&&this.loader.setRequestHeader(this.config.requestHeaders(t)),new Promise((function(o,n){var r=0;null==e||e(r),i.loader.load(t,(function(t){r=100,null==e||e(r),o(t)}),(function(t){if(t.lengthComputable){var i=t.loaded/t.total*100;i>r&&(r=i,null==e||e(r))}}),(function(t){n(t)}))}))},o.loadImage=function(t,e){return this.loadFile(t,e).then((function(t){return new Promise((function(e,i){var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");o.onload=function(){URL.revokeObjectURL(o.src),e(o)},o.onerror=i,o.src=URL.createObjectURL(t)}))}))},o.preloadPanorama=function(t){return this.psv.adapter.supportsPreload(t)?this.psv.adapter.loadTexture(t):Promise.resolve()},i}(Jt),se={NONE:0,SHOWING:1,HIDING:2,READY:3},ae=function(t){function e(e,i){var o;return o=t.call(this,e,"psv-tooltip")||this,o.prop=r({},o.prop,i,{state:se.NONE,width:0,height:0,pos:"",config:null,data:null}),o.content=document.createElement("div"),o.content.className="psv-tooltip-content",o.container.appendChild(o.content),o.arrow=document.createElement("div"),o.arrow.className="psv-tooltip-arrow",o.container.appendChild(o.arrow),o.container.addEventListener("transitionend",l(o)),o.container.style.top="-1000px",o.container.style.left="-1000px",o}a(e,t);var i=e.prototype;return i.destroy=function(){delete this.arrow,delete this.content,t.prototype.destroy.call(this)},i.handleEvent=function(t){switch(t.type){case"transitionend":this.__onTransitionEnd(t);break}},i.toggle=function(){throw new c("Tooltip cannot be toggled")},i.show=function(t){if(this.prop.state!==se.NONE)throw new c("Initialized tooltip cannot be re-initialized");t.className&&T(this.container,t.className),this.content.innerHTML=t.content;var e=this.container.getBoundingClientRect();this.prop.width=e.right-e.left,this.prop.height=e.bottom-e.top,this.prop.state=se.READY,this.move(t),this.prop.data=t.data,this.prop.state=se.SHOWING,this.psv.trigger(d.SHOW_TOOLTIP,this.prop.data,this),this.__waitImages()},i.move=function(t){if(this.prop.state!==se.SHOWING&&this.prop.state!==se.READY)throw new c("Uninitialized tooltip cannot be moved");t.box||(t.box={width:0,height:0}),this.config=t;var e=this.container,i=this.arrow,o={posClass:nt(t.position,{allowCenter:!1,cssOrder:!1})||["top","center"],width:this.prop.width,height:this.prop.height,top:0,left:0,arrowTop:0,arrowLeft:0};this.__computeTooltipPosition(o,t);var n=null,r=null;if(o.top<0?n="bottom":o.top+o.height>this.psv.prop.size.height&&(n="top"),o.left<0?r="right":o.left+o.width>this.psv.prop.size.width&&(r="left"),r||n){var s=rt(o.posClass);n&&(o.posClass[s?0:1]=n),r&&(o.posClass[s?1:0]=r),this.__computeTooltipPosition(o,t)}e.style.top=o.top+"px",e.style.left=o.left+"px",i.style.top=o.arrowTop+"px",i.style.left=o.arrowLeft+"px";var a=o.posClass.join("-");a!==this.prop.pos&&(e.classList.remove("psv-tooltip--"+this.prop.pos),this.prop.pos=a,e.classList.add("psv-tooltip--"+this.prop.pos))},i.hide=function(){this.container.classList.remove("psv-tooltip--visible"),this.prop.state=se.HIDING,this.psv.trigger(d.HIDE_TOOLTIP,this.prop.data)},i.__onTransitionEnd=function(t){if("transform"===t.propertyName)switch(this.prop.state){case se.SHOWING:this.container.classList.add("psv-tooltip--visible"),this.prop.state=se.READY;break;case se.HIDING:this.prop.state=se.NONE,this.destroy();break}},i.__computeTooltipPosition=function(t,e){var i=this.prop.arrow,o=e.top,n=t.height,r=e.left,s=t.width,a=i+this.prop.border,p=e.box.width/2+2*i,l=e.box.height/2+2*i;switch(t.posClass.join("-")){case"top-left":t.top=o-l-n,t.left=r+a-s,t.arrowTop=n,t.arrowLeft=s-a-i;break;case"top-center":t.top=o-l-n,t.left=r-s/2,t.arrowTop=n,t.arrowLeft=s/2-i;break;case"top-right":t.top=o-l-n,t.left=r-a,t.arrowTop=n,t.arrowLeft=i;break;case"bottom-left":t.top=o+l,t.left=r+a-s,t.arrowTop=2*-i,t.arrowLeft=s-a-i;break;case"bottom-center":t.top=o+l,t.left=r-s/2,t.arrowTop=2*-i,t.arrowLeft=s/2-i;break;case"bottom-right":t.top=o+l,t.left=r-a,t.arrowTop=2*-i,t.arrowLeft=i;break;case"left-top":t.top=o+a-n,t.left=r-p-s,t.arrowTop=n-a-i,t.arrowLeft=s;break;case"center-left":t.top=o-n/2,t.left=r-p-s,t.arrowTop=n/2-i,t.arrowLeft=s;break;case"left-bottom":t.top=o-a,t.left=r-p-s,t.arrowTop=i,t.arrowLeft=s;break;case"right-top":t.top=o+a-n,t.left=r+p,t.arrowTop=n-a-i,t.arrowLeft=2*-i;break;case"center-right":t.top=o-n/2,t.left=r+p,t.arrowTop=n/2-i,t.arrowLeft=2*-i;break;case"right-bottom":t.top=o-a,t.left=r+p,t.arrowTop=i,t.arrowLeft=2*-i;break}},i.__waitImages=function(){var t=this,e=this.content.querySelectorAll("img");if(e.length>0){var i=[];e.forEach((function(t){i.push(new Promise((function(e){t.onload=e,t.onerror=e})))})),Promise.all(i).then((function(){if(t.prop.state===se.SHOWING||t.prop.state===se.READY){var e=t.container.getBoundingClientRect();t.prop.width=e.right-e.left,t.prop.height=e.bottom-e.top,t.move(t.config)}}))}},e}(mt),pe=function(t){function e(e){var i;i=t.call(this,e)||this;var o=new ae(i.psv,{arrow:0,border:0});return i.size={arrow:parseInt(L(o.arrow,"borderTopWidth"),10),border:parseInt(L(o.container,"borderTopLeftRadius"),10)},o.destroy(),i}a(e,t);var i=e.prototype;return i.destroy=function(){delete this.size,t.prototype.destroy.call(this)},i.create=function(t){var e=new ae(this.psv,this.size);return e.show(t),e},e}(Jt);e.Cache.enabled=!0;var le=function(t){function i(i){var o;if(o=t.call(this)||this,_.load(),!_.isWebGLSupported)throw new c("WebGL is not supported.");if(0===_.maxTextureWidth)throw new c("Unable to detect system capabilities");return o.prop={ready:!1,uiRefresh:!1,needsUpdate:!1,fullscreen:!1,direction:new e.Vector3(0,0,10),vFov:null,hFov:null,aspect:null,autorotateEnabled:!1,animationPromise:null,loadingPromise:null,littlePlanet:!1,idleTime:-1,objectsObservers:{},size:{width:0,height:0},panoData:{fullWidth:0,fullHeight:0,croppedWidth:0,croppedHeight:0,croppedX:0,croppedY:0,poseHeading:0,posePitch:0,poseRoll:0}},o.config=function(t){var e=F(Ut);V(e,t);var i={};return W(e,(function(t,o){if(Ft[o])X(Ft[o]);else{if(!Object.prototype.hasOwnProperty.call(Ut,o))throw new c("Unknown option "+o);jt[o]?i[o]=jt[o](t,e):i[o]=t}})),i}(i),o.parent="string"===typeof i.container?document.getElementById(i.container):i.container,o.parent["photoSphereViewer"]=l(o),o.container=document.createElement("div"),o.container.classList.add("psv-container"),o.parent.appendChild(o.container),o.adapter=new o.config.adapter[0](l(o),o.config.adapter[1]),o.children=[],o.plugins={},o.renderer=new ne(l(o)),o.textureLoader=new re(l(o)),o.eventsHandler=new oe(l(o)),o.dataHelper=new ie(l(o)),o.loader=new Gt(l(o)),o.navbar=new Kt(l(o)),o.panel=new qt(l(o)),o.tooltip=new pe(l(o)),o.notification=new $t(l(o)),o.overlay=new Xt(l(o)),o.dynamics={zoom:new ut((function(t){o.prop.vFov=o.dataHelper.zoomLevelToFov(t),o.prop.hFov=o.dataHelper.vFovToHFov(o.prop.vFov),o.trigger(d.ZOOM_UPDATED,t)}),o.config.defaultZoomLvl,0,100),position:new dt({longitude:new ut(null,o.config.defaultLong,0,2*Math.PI,!0),latitude:o.prop.littlePlanet?new ut(null,o.config.defaultLat,0,2*Math.PI,!0):new ut(null,o.config.defaultLat,-Math.PI/2,Math.PI/2)},(function(t){o.dataHelper.sphericalCoordsToVector3(t,o.prop.direction),o.trigger(d.POSITION_UPDATED,t)}))},o.__updateSpeeds(),o.eventsHandler.init(),o.__resizeRefresh=z((function(){return o.refreshUi("resize")}),500),o.resize(o.config.size),o.config.plugins.forEach((function(t){var e=t[0],i=t[1];o.plugins[e.id]=new e(l(o),i)})),W(o.plugins,(function(t){return null==t.init?void 0:t.init()})),o.navbar.setButtons(o.config.navbar),o.config.panorama&&o.setPanorama(o.config.panorama),E(o.container,"psv--is-touch",_.isTouchEnabled.initial),_.isTouchEnabled.promise.then((function(t){return E(o.container,"psv--is-touch",t)})),o.once(d.RENDER,(function(){o.config.navbar&&(o.container.classList.add("psv--has-navbar"),o.navbar.show()),Y(o.config.autorotateDelay)||(o.prop.idleTime=performance.now()),o.prop.ready=!0,setTimeout((function(){o.refreshUi("init"),o.trigger(d.READY)}),0)})),o}a(i,t);var o=i.prototype;return o.destroy=function(){this.__stopAll(),this.stopKeyboardControl(),this.exitFullscreen(),W(this.plugins,(function(t){return t.destroy()})),delete this.plugins,this.children.slice().forEach((function(t){return t.destroy()})),this.children.length=0,this.eventsHandler.destroy(),this.renderer.destroy(),this.textureLoader.destroy(),this.dataHelper.destroy(),this.adapter.destroy(),this.parent.removeChild(this.container),delete this.parent["photoSphereViewer"],delete this.parent,delete this.container,delete this.loader,delete this.navbar,delete this.panel,delete this.tooltip,delete this.notification,delete this.overlay,delete this.dynamics,delete this.config},o.refreshUi=function(t){var e=this;this.prop.ready&&(this.prop.uiRefresh?"new"!==this.prop.uiRefresh&&(this.prop.uiRefresh="new",setTimeout((function(){e.prop.uiRefresh=!1,e.refreshUi(t)}))):(this.prop.uiRefresh=!0,this.children.every((function(t){return t.refreshUi(),!0===e.prop.uiRefresh})),this.prop.uiRefresh=!1))},o.getPlugin=function(t){if("string"===typeof t)return this.plugins[t];var e=K(t,zt);return e?this.plugins[e.id]:void 0},o.getPosition=function(){return this.dataHelper.cleanPosition(this.dynamics.position.current)},o.getZoomLevel=function(){return this.dynamics.zoom.current},o.getSize=function(){return r({},this.prop.size)},o.isAutorotateEnabled=function(){return this.prop.autorotateEnabled},o.isFullscreenEnabled=function(){return _.fullscreenEvent?S(this.container):this.prop.fullscreen},o.needsUpdate=function(){this.prop.needsUpdate=!0},o.autoSize=function(){this.container.clientWidth===this.prop.size.width&&this.container.clientHeight===this.prop.size.height||(this.prop.size.width=Math.round(this.container.clientWidth),this.prop.size.height=Math.round(this.container.clientHeight),this.prop.aspect=this.prop.size.width/this.prop.size.height,this.prop.hFov=this.dataHelper.vFovToHFov(this.prop.vFov),this.trigger(d.SIZE_UPDATED,this.getSize()),this.__resizeRefresh())},o.setPanorama=function(t,e){var i,o=this;void 0===e&&(e={}),this.textureLoader.abortLoading(),null==(i=this.prop.transitionAnimation)||i.cancel(),this.prop.ready||["sphereCorrection","panoData","overlay","overlayOpacity"].forEach((function(t){t in e||(e[t]=o.config[t])})),void 0!==e.transition&&!0!==e.transition||(e.transition=1500),void 0===e.showLoader&&(e.showLoader=!0),void 0===e.caption&&(e.caption=this.config.caption),void 0===e.description&&(e.description=this.config.description),e.panoData||"function"!==typeof this.config.panoData||(e.panoData=this.config.panoData);var n=q(e),r="zoom"in e;(n||r)&&this.__stopAll(),this.hideError(),this.config.panorama=t,this.config.caption=e.caption,this.config.description=e.description;var s=function(t){if(o.loader.hide(),o.prop.loadingPromise=null,$(t))return!1;if(t)throw o.navbar.setCaption(""),o.showError(o.config.lang.loadError),console.error(t),t;return o.resetIdleTimer(),o.setOverlay(e.overlay,e.overlayOpacity),o.navbar.setCaption(o.config.caption),!0};this.navbar.setCaption("<em>"+(this.config.loadingTxt||"")+"</em>"),!e.showLoader&&this.prop.ready||this.loader.show();var a=this.adapter.loadTexture(this.config.panorama,e.panoData).then((function(t){if(t.panorama!==o.config.panorama)throw o.adapter.disposeTexture(t),G();return t}));return e.transition&&this.prop.ready&&this.adapter.supportsTransition(this.config.panorama)?this.prop.loadingPromise=a.then((function(t){return o.loader.hide(),o.prop.transitionAnimation=o.renderer.transition(t,e),o.prop.transitionAnimation})).then((function(t){if(o.prop.transitionAnimation=null,!t)throw G()})).then(s,s):this.prop.loadingPromise=a.then((function(t){o.renderer.show(),o.renderer.setTexture(t),o.renderer.setPanoramaPose(t.panoData),o.renderer.setSphereCorrection(e.sphereCorrection),r&&o.zoom(e.zoom),n&&o.rotate(e)})).then(s,s),this.prop.loadingPromise},o.setOverlay=function(t,e){var i=this;return void 0===e&&(e=1),t?this.adapter.constructor.supportsOverlay?this.adapter.loadTexture(t,(function(t){var e=i.prop.panoData,o=t.width/e.croppedWidth;return{fullWidth:o*e.fullWidth,fullHeight:o*e.fullHeight,croppedWidth:o*e.croppedWidth,croppedHeight:o*e.croppedHeight,croppedX:o*e.croppedX,croppedY:o*e.croppedY}}),!1).then((function(t){i.renderer.setOverlay(t,e)})):Promise.reject(new c(this.adapter.constructor.id+" adapter does not supports overlay")):(this.adapter.constructor.supportsOverlay&&this.renderer.setOverlay(null,0),Promise.resolve())},o.setOptions=function(t){var e=this,i=r({},this.config,t);W(t,(function(t,o){if(Ft[o])X(Ft[o]);else{if(!Object.prototype.hasOwnProperty.call(Ut,o))throw new c("Unknown option "+o);if(Vt[o])throw new c(Vt[o]);switch(jt[o]?e.config[o]=jt[o](t,i):e.config[o]=t,o){case"overlay":case"overlayOpacity":e.setOverlay(e.config.overlay,e.config.overlayOpacity);break;case"caption":case"description":e.navbar.setCaption(e.config.caption);break;case"size":e.resize(t);break;case"sphereCorrection":e.renderer.setSphereCorrection(t);break;case"navbar":case"lang":e.navbar.setButtons(e.config.navbar);break;case"moveSpeed":case"zoomSpeed":e.__updateSpeeds();break;case"minFov":case"maxFov":e.dynamics.zoom.setValue(e.dataHelper.fovToZoomLevel(e.prop.vFov)),e.trigger(d.ZOOM_UPDATED,e.getZoomLevel());break;case"canvasBackground":e.renderer.canvasContainer.style.background=e.config.canvasBackground;break;case"autorotateIdle":e.resetIdleTimer();break}}})),this.needsUpdate(),this.refreshUi("set options"),this.trigger(d.CONFIG_CHANGED,Object.keys(t))},o.setOption=function(t,e){var i;this.setOptions((i={},i[t]=e,i))},o.resetIdleTimer=function(){this.prop.idleTime=this.config.autorotateIdle?performance.now():-1},o.disableIdleTimer=function(){this.prop.idleTime=-1},o.startAutorotate=function(t){void 0===t&&(t=!1),t&&!this.isAutorotateEnabled()||!t&&this.isAutorotateEnabled()||(t||this.__stopAll(),this.dynamics.position.roll({longitude:this.config.autorotateSpeed<0},Math.abs(this.config.autorotateSpeed/this.config.moveSpeed)),this.dynamics.position.goto({latitude:this.config.autorotateLat},Math.abs(this.config.autorotateSpeed/this.config.moveSpeed)),null!==this.config.autorotateZoomLvl&&this.dynamics.zoom.goto(this.config.autorotateZoomLvl),this.prop.autorotateEnabled=!0,t||this.trigger(d.AUTOROTATE,!0))},o.stopAutorotate=function(){this.isAutorotateEnabled()&&(this.dynamics.position.stop(),this.dynamics.zoom.stop(),this.prop.autorotateEnabled=!1,this.trigger(d.AUTOROTATE,!1))},o.toggleAutorotate=function(){this.isAutorotateEnabled()?this.stopAutorotate():this.startAutorotate()},o.showError=function(t){this.overlay.show({id:g.ERROR,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="15 15 70 70"><path fill="currentColor" d="M50,16.2c-18.6,0-33.8,15.1-33.8,33.8S31.4,83.7,50,83.7S83.8,68.6,83.8,50S68.6,16.2,50,16.2z M50,80.2c-16.7,0-30.2-13.6-30.2-30.2S33.3,19.7,50,19.7S80.3,33.3,80.3,50S66.7,80.2,50,80.2z"/><rect fill="currentColor" x="48" y="31.7" width="4" height="28"/><rect fill="currentColor" x="48" y="63.2" width="4" height="5"/>\x3c!--Created by Shastry from the Noun Project--\x3e</svg>\n',text:t,dissmisable:!1})},o.hideError=function(){this.overlay.hide(g.ERROR)},o.rotate=function(t){var e=this.trigger(d.BEFORE_ROTATE,t);if(!e.isDefaultPrevented()){var i=this.change(f.GET_ROTATE_POSITION,this.dataHelper.cleanPosition(t));this.dynamics.position.setValue(i)}},o.animate=function(t){var e=this;this.__stopAll();var i,o=q(t),n=void 0!==t.zoom,r={};if(o){var s=this.change(f.GET_ANIMATE_POSITION,this.dataHelper.cleanPosition(t)),a=this.getPosition(),p=I(a.longitude,s.longitude);r.longitude={start:a.longitude,end:a.longitude+p},r.latitude={start:a.latitude,end:s.latitude},i=this.dataHelper.speedToDuration(t.speed,D(a,s))}if(n){var l=Math.abs(t.zoom-this.getZoomLevel());r.zoom={start:this.getZoomLevel(),end:t.zoom},i||(i=this.dataHelper.speedToDuration(t.speed,Math.PI/4*l/100))}return i?(this.prop.animationPromise=new ht({properties:r,duration:Math.max(500,i),easing:"inOutSine",onTick:function(t){o&&e.rotate(t),n&&e.zoom(t.zoom)}}),this.prop.animationPromise.then((function(){e.prop.animationPromise=null,e.resetIdleTimer()})),this.prop.animationPromise):(o&&this.rotate(t),n&&this.zoom(t.zoom),new ht)},o.stopAnimation=function(){return this.prop.animationPromise?(this.prop.animationPromise.cancel(),this.prop.animationPromise):Promise.resolve()},o.zoom=function(t){this.dynamics.zoom.setValue(t)},o.zoomIn=function(t){void 0===t&&(t=1),this.dynamics.zoom.step(t)},o.zoomOut=function(t){void 0===t&&(t=1),this.dynamics.zoom.step(-t)},o.resize=function(t){var e=this;["width","height"].forEach((function(i){t&&t[i]&&(/^[0-9.]+$/.test(t[i])&&(t[i]+="px"),e.parent.style[i]=t[i])})),this.autoSize()},o.enterFullscreen=function(){_.fullscreenEvent?A(this.container):(this.container.classList.add("psv-container--fullscreen"),this.autoSize(),this.eventsHandler.__fullscreenToggled(!0))},o.exitFullscreen=function(){this.isFullscreenEnabled()&&(_.fullscreenEvent?P():(this.container.classList.remove("psv-container--fullscreen"),this.autoSize(),this.eventsHandler.__fullscreenToggled(!1)))},o.toggleFullscreen=function(){this.isFullscreenEnabled()?this.exitFullscreen():this.enterFullscreen()},o.startKeyboardControl=function(){this.eventsHandler.enableKeyboard()},o.stopKeyboardControl=function(){this.eventsHandler.disableKeyboard()},o.observeObjects=function(t,e){var i=this;return this.prop.objectsObservers[t]={listener:e},function(){delete i.prop.objectsObservers[t]}},o.__stopAll=function(){return this.trigger(d.STOP_ALL),this.disableIdleTimer(),this.stopAutorotate(),this.stopAnimation()},o.__updateSpeeds=function(){this.dynamics.zoom.setSpeed(50*this.config.zoomSpeed),this.dynamics.position.setSpeed(e.MathUtils.degToRad(50*this.config.moveSpeed))},i}(i.EventEmitter);t.AbstractAdapter=h,t.AbstractButton=bt,t.AbstractComponent=mt,t.AbstractPlugin=zt,t.CONSTANTS=w,t.DEFAULTS=Ut,t.EquirectangularAdapter=gt,t.PSVError=c,t.SYSTEM=_,t.Viewer=le,t.registerButton=Zt,t.utils=vt,Object.defineProperty(t,"__esModule",{value:!0})}))},"0f40":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'/*!\n * Photo Sphere Viewer 4.8.1\n * @copyright 2014-2015 Jérémy Heleine\n * @copyright 2015-2022 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */.psv-container{width:100%;height:100%;margin:0;padding:0;position:relative;background:radial-gradient(#fff 0,#fdfdfd 16%,#fbfbfb 33%,#f8f8f8 49%,#efefef 66%,#dfdfdf 82%,#bfbfbf 100%);overflow:hidden}.psv-container--fullscreen{position:fixed;top:0;right:0;bottom:0;left:0}.psv-canvas-container{position:absolute;top:0;left:0;z-index:0;-webkit-transition:opacity linear .1s;transition:opacity linear .1s}.psv-canvas{display:block}.psv-loader-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;z-index:80}.psv-loader{position:relative;text-align:center;color:rgba(61,61,61,.7);width:150px;height:150px;border:10px solid transparent}.psv-loader::before{content:"";display:inline-block;height:100%;vertical-align:middle}.psv-loader, .psv-loader-image, .psv-loader-text{display:inline-block;vertical-align:middle}.psv-loader-canvas{position:absolute;top:0;left:0;width:100%;height:100%}.psv-loader-text{font:14px sans-serif}.psv-navbar{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;z-index:90;bottom:-40px;left:0;width:100%;height:40px;background:rgba(61,61,61,.5);-webkit-transition:bottom ease-in-out .1s;transition:bottom ease-in-out .1s}.psv-navbar--open{bottom:0}.psv-navbar, .psv-navbar *{-webkit-box-sizing:content-box;box-sizing:initial}.psv-caption{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;color:hsla(0,0%,100%,.7);overflow:hidden;text-align:center}.psv-caption-icon{height:20px;width:20px;cursor:pointer}.psv-caption-icon *{fill:hsla(0,0%,100%,.7)}.psv-caption-content{display:inline-block;padding:10px;font:16px sans-serif;white-space:nowrap}.psv-button{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:10px;position:relative;cursor:pointer;height:20px;width:20px;background:transparent;color:hsla(0,0%,100%,.7)}.psv-button--active{background:hsla(0,0%,100%,.2)}.psv-button--disabled{pointer-events:none;opacity:.5}.psv-button-svg{width:100%;-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .2s ease;transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}.psv-button:not(.psv-button--disabled):focus-visible{outline:2px solid #007cff;outline-offset:-2px}.psv-container:not(.psv--is-touch) .psv-button--hover-scale:not(.psv-button--disabled):hover .psv-button-svg{-webkit-transform:scale(1.2);transform:scale(1.2)}.psv-move-button + .psv-move-button{margin-left:-10px}.psv-custom-button{width:auto}.psv-autorotate-button.psv-button{width:25px;height:25px;padding:7.5px}.psv-zoom-range.psv-button{width:80px;height:1px;margin:10px 0;padding:9.5px 0;max-width:600px}.psv-zoom-range-line{position:relative;width:80px;height:1px;background:hsla(0,0%,100%,.7);-webkit-transition:all .3s ease;transition:all .3s ease}.psv-zoom-range-handle{position:absolute;border-radius:50%;top:-3px;width:7px;height:7px;background:hsla(0,0%,100%,.7);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-line{-webkit-box-shadow:0 0 2px hsla(0,0%,100%,.7);box-shadow:0 0 2px hsla(0,0%,100%,.7)}.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-handle{-webkit-transform:scale(1.3);transform:scale(1.3)}.psv-notification{position:absolute;z-index:100;bottom:-40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;padding:0 2em;opacity:0;-webkit-transition-property:opacity,bottom;transition-property:opacity,bottom;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-duration:.2s;transition-duration:.2s}.psv-notification-content{max-width:50em;background-color:rgba(61,61,61,.8);border-radius:4px;padding:.5em 1em;font:14px sans-serif;color:#fff}.psv-notification--visible{opacity:1;bottom:80px}.psv-overlay{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:110;top:0;left:0;bottom:0;right:0;background:radial-gradient(#fff 0,#fdfdfd 16%,#fbfbfb 33%,#f8f8f8 49%,#efefef 66%,#dfdfdf 82%,#bfbfbf 100%);color:#000;opacity:.8}.psv-overlay-image{margin-bottom:4vh}.psv-overlay-image svg{width:50vw}@media (orientation:landscape){.psv-overlay-image svg{width:25vw}}.psv-overlay-text{font:30px sans-serif;text-align:center}.psv-overlay-subtext{font:20px sans-serif;opacity:.8;text-align:center}.psv-panel{position:absolute;z-index:90;right:0;height:100%;width:400px;max-width:calc(100% - 24px);background:rgba(10,10,10,.7);-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-duration:.1s;transition-duration:.1s;cursor:default;margin-left:9px}.psv--has-navbar .psv-panel{height:calc(100% - 40px)}.psv-panel-close-button{display:none;position:absolute;top:0;left:-24px;width:24px;height:24px;background:rgba(0,0,0,.9)}.psv-panel-close-button::before, .psv-panel-close-button::after{content:"";position:absolute;top:50%;left:4px;width:15px;height:1px;background-color:#fff;-webkit-transition:.2s ease-in-out;transition:.2s ease-in-out;-webkit-transition-property:width,left,-webkit-transform;transition-property:width,left,-webkit-transform;transition-property:width,left,transform;transition-property:width,left,transform,-webkit-transform}.psv-panel-close-button::before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.psv-panel-close-button::after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.psv-panel-close-button:hover::before, .psv-panel-close-button:hover::after{left:0;width:23px}.psv-panel-close-button:hover::before{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.psv-panel-close-button:hover::after{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.psv-panel-resizer{display:none;position:absolute;top:0;left:-9px;width:9px;height:100%;background-color:rgba(0,0,0,.9);cursor:col-resize}.psv-panel-resizer::before{content:"";position:absolute;top:50%;left:1px;margin-top:-14.5px;width:1px;height:1px;-webkit-box-shadow:1px 0 #fff,3px 0 #fff,5px 0 #fff,1px 2px #fff,3px 2px #fff,5px 2px #fff,1px 4px #fff,3px 4px #fff,5px 4px #fff,1px 6px #fff,3px 6px #fff,5px 6px #fff,1px 8px #fff,3px 8px #fff,5px 8px #fff,1px 10px #fff,3px 10px #fff,5px 10px #fff,1px 12px #fff,3px 12px #fff,5px 12px #fff,1px 14px #fff,3px 14px #fff,5px 14px #fff,1px 16px #fff,3px 16px #fff,5px 16px #fff,1px 18px #fff,3px 18px #fff,5px 18px #fff,1px 20px #fff,3px 20px #fff,5px 20px #fff,1px 22px #fff,3px 22px #fff,5px 22px #fff,1px 24px #fff,3px 24px #fff,5px 24px #fff,1px 26px #fff,3px 26px #fff,5px 26px #fff,1px 28px #fff,3px 28px #fff,5px 28px #fff;box-shadow:1px 0 #fff,3px 0 #fff,5px 0 #fff,1px 2px #fff,3px 2px #fff,5px 2px #fff,1px 4px #fff,3px 4px #fff,5px 4px #fff,1px 6px #fff,3px 6px #fff,5px 6px #fff,1px 8px #fff,3px 8px #fff,5px 8px #fff,1px 10px #fff,3px 10px #fff,5px 10px #fff,1px 12px #fff,3px 12px #fff,5px 12px #fff,1px 14px #fff,3px 14px #fff,5px 14px #fff,1px 16px #fff,3px 16px #fff,5px 16px #fff,1px 18px #fff,3px 18px #fff,5px 18px #fff,1px 20px #fff,3px 20px #fff,5px 20px #fff,1px 22px #fff,3px 22px #fff,5px 22px #fff,1px 24px #fff,3px 24px #fff,5px 24px #fff,1px 26px #fff,3px 26px #fff,5px 26px #fff,1px 28px #fff,3px 28px #fff,5px 28px #fff;background:transparent}.psv-panel-content{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#dcdcdc;font:16px sans-serif;overflow:auto}.psv-panel-content:not(.psv-panel-content--no-margin){padding:1em}.psv-panel-content--no-interaction{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.psv-panel--open{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1;-webkit-transition-duration:.2s;transition-duration:.2s}.psv-panel--open .psv-panel-close-button,\n.psv-panel--open .psv-panel-resizer{display:block}@media screen and (max-width:400px){.psv-panel{width:100%;max-width:none}.psv-panel-resizer{display:none}.psv-panel-close-button{left:0}}.psv-panel-menu{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.psv-panel-menu-title{-webkit-box-flex:0;-ms-flex:none;flex:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font:24px sans-serif;margin:24px 12px}.psv-panel-menu-title svg{width:24px;height:24px;margin-right:12px}.psv-panel-menu-list{-webkit-box-flex:1;-ms-flex:1;flex:1;list-style:none;margin:0;padding:0;overflow-x:hidden}.psv-panel-menu-item{min-height:1.5em;padding:.5em 1em;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-transition:background .1s ease-in-out;transition:background .1s ease-in-out}.psv-panel-menu-item--active{outline:1px solid currentcolor;outline-offset:-1px}.psv-panel-menu-item-icon{-webkit-box-flex:0;-ms-flex:none;flex:none;height:1.5em;width:1.5em;margin-right:.5em}.psv-panel-menu-item-icon img{max-width:100%;max-height:100%}.psv-panel-menu-item-icon svg{width:100%;height:100%}.psv-panel-menu-item:focus-visible{outline:2px solid #007cff;outline-offset:-2px}.psv-panel-menu--stripped .psv-panel-menu-item:hover{background:hsla(0,0%,100%,.2)}.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd), .psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd)::before{background:hsla(0,0%,100%,.1)}.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even), .psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even)::before{background:transparent}.psv-container:not(.psv--is-touch) .psv-panel-menu-item:hover{background:hsla(0,0%,100%,.2)}.psv-tooltip{position:absolute;z-index:50;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:200px;background-color:rgba(61,61,61,.8);border-radius:4px;padding:.5em 1em;opacity:0;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-duration:.1s;transition-duration:.1s}.psv-tooltip-content{color:#fff;font:14px sans-serif;text-shadow:0 1px #000}.psv-tooltip-arrow{position:absolute;height:0;width:0;border:7px solid transparent}.psv-tooltip--top-left, .psv-tooltip--top-center, .psv-tooltip--top-right{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}.psv-tooltip--top-left .psv-tooltip-arrow, .psv-tooltip--top-center .psv-tooltip-arrow, .psv-tooltip--top-right .psv-tooltip-arrow{border-top-color:rgba(61,61,61,.8)}.psv-tooltip--bottom-left, .psv-tooltip--bottom-center, .psv-tooltip--bottom-right{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}.psv-tooltip--bottom-left .psv-tooltip-arrow, .psv-tooltip--bottom-center .psv-tooltip-arrow, .psv-tooltip--bottom-right .psv-tooltip-arrow{border-bottom-color:rgba(61,61,61,.8)}.psv-tooltip--left-top, .psv-tooltip--center-left, .psv-tooltip--left-bottom{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}.psv-tooltip--left-top .psv-tooltip-arrow, .psv-tooltip--center-left .psv-tooltip-arrow, .psv-tooltip--left-bottom .psv-tooltip-arrow{border-left-color:rgba(61,61,61,.8)}.psv-tooltip--right-top, .psv-tooltip--center-right, .psv-tooltip--right-bottom{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}.psv-tooltip--right-top .psv-tooltip-arrow, .psv-tooltip--center-right .psv-tooltip-arrow, .psv-tooltip--right-bottom .psv-tooltip-arrow{border-right-color:rgba(61,61,61,.8)}.psv-tooltip--left-top, .psv-tooltip--top-left{-webkit-box-shadow:-3px -3px 0 rgba(90,90,90,.7);box-shadow:-3px -3px 0 rgba(90,90,90,.7)}.psv-tooltip--top-center{-webkit-box-shadow:0 -3px 0 rgba(90,90,90,.7);box-shadow:0 -3px 0 rgba(90,90,90,.7)}.psv-tooltip--right-top, .psv-tooltip--top-right{-webkit-box-shadow:3px -3px 0 rgba(90,90,90,.7);box-shadow:3px -3px 0 rgba(90,90,90,.7)}.psv-tooltip--left-bottom, .psv-tooltip--bottom-left{-webkit-box-shadow:-3px 3px 0 rgba(90,90,90,.7);box-shadow:-3px 3px 0 rgba(90,90,90,.7)}.psv-tooltip--bottom-center{-webkit-box-shadow:0 3px 0 rgba(90,90,90,.7);box-shadow:0 3px 0 rgba(90,90,90,.7)}.psv-tooltip--right-bottom, .psv-tooltip--bottom-right{-webkit-box-shadow:3px 3px 0 rgba(90,90,90,.7);box-shadow:3px 3px 0 rgba(90,90,90,.7)}.psv-tooltip--center-left{-webkit-box-shadow:-3px 0 0 rgba(90,90,90,.7);box-shadow:-3px 0 0 rgba(90,90,90,.7)}.psv-tooltip--center-right{-webkit-box-shadow:3px 0 0 rgba(90,90,90,.7);box-shadow:3px 0 0 rgba(90,90,90,.7)}.psv-tooltip--visible{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1;-webkit-transition-duration:.1s;transition-duration:.1s}',""]),t.exports=e},"3fc3":function(t,e,i){var o,n,r,s=i("7037").default;i("6c57"),i("1d1c"),i("14d9"),i("d3b7"),i("159b"),i("c975"),i("a434"),i("fb6a"),i("99af"),i("7a82"),
/*!
 * uevent (v2.2.0)
 * @copyright 2015-2022 Damien "Mistic" Sorel <contact@git.strangeplanet.fr>
 * @licence MIT
 */
function(i,a){"object"===s(e)&&"undefined"!==typeof t?a(e):(n=[e],o=a,r="function"===typeof o?o.apply(e,n):o,void 0===r||(t.exports=r))}(0,(function(t){"use strict";var e=function(){return!0},i=function(){return!1},o=function(){function t(t,e,o){Object.defineProperties(this,{target:{get:function(){return t},set:function(){},enumerable:!0},type:{get:function(){return e},set:function(){},enumerable:!0},args:{get:function(){return o},set:function(){},enumerable:!0}}),this.isDefaultPrevented=i,this.isPropagationStopped=i}var o=t.prototype;return o.preventDefault=function(){this.isDefaultPrevented=e},o.stopPropagation=function(){this.isPropagationStopped=e},t}(),n=o,r=function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i=this;if(this.__events=this.__events||{},"object"===s(t))for(var o in t)t.hasOwnProperty(o)&&(this.__events[o]=this.__events[o]||[],this.__events[o].push(t[o]));else t.split(" ").forEach((function(t){i.__events[t]=i.__events[t]||[],i.__events[t].push(e)}));return this},e.off=function(t,e){var i=this;if("object"===s(t)){for(var o in t)if(t.hasOwnProperty(o)){if(this.__events&&o in this.__events){var n=this.__events[o].indexOf(t[o]);-1!==n&&this.__events[o].splice(n,1)}if(this.__once&&o in this.__once){var r=this.__once[o].indexOf(t[o]);-1!==r&&this.__once[o].splice(r,1)}}}else t?t.split(" ").forEach((function(t){if(i.__events&&t in i.__events)if(e){var o=i.__events[t].indexOf(e);-1!==o&&i.__events[t].splice(o,1)}else i.__events[t].length=0;if(i.__once&&t in i.__once)if(e){var n=i.__once[t].indexOf(e);-1!==n&&i.__once[t].splice(n,1)}else i.__once[t].length=0})):(this.__events={},this.__once={});return this},e.once=function(t,e){var i=this;if(this.__once=this.__once||{},"object"===s(t))for(var o in t)t.hasOwnProperty(o)&&(this.__once[o]=this.__once[o]||[],this.__once[o].push(t[o]));else t.split(" ").forEach((function(t){i.__once[t]=i.__once[t]||[],i.__once[t].push(e)}));return this},e.trigger=function(t){var e=Array.prototype.slice.call(arguments,1),i=new n(this,t,e);if(this.__events&&t in this.__events)for(var o=0,r=this.__events[t].length;o<r;o++){var a=this.__events[t][o];if("object"===s(a)?a.handleEvent(i):a.call.apply(a,[this,i].concat(e)),i.isPropagationStopped())break}if(this.__once&&t in this.__once){for(var p=0,l=this.__once[t].length;p<l;p++){var c=this.__once[t][p];if("object"===s(c)?c.handleEvent(i):c.call.apply(c,[this,i].concat(e)),i.isPropagationStopped())break}delete this.__once[t]}return i},e.change=function(t,e){var i=Array.prototype.slice.call(arguments,2),o=new n(this,t,i);if(o.value=e,this.__events&&t in this.__events)for(var r=0,a=this.__events[t].length;r<a;r++){var p=this.__events[t][r];if("object"===s(p)?o.value=p.handleEvent(o):o.value=p.call.apply(p,[this,o,o.value].concat(i)),o.isPropagationStopped())break}return o.value},t}(),a=r;var p={EventEmitter:a,Event:n,mixin:function(t){return t="function"===typeof t?t.prototype:t,["on","off","once","trigger","change"].forEach((function(e){t[e]=a.prototype[e]})),t}},l=p.EventEmitter,c=p.Event,h=p.mixin;t.Event=c,t.EventEmitter=l,t["default"]=p,t.mixin=h,Object.defineProperty(t,"__esModule",{value:!0})}))},"47de":function(t,e,i){t.exports=i.p+"static/img/quanjingTest2.db81a391.jpg"},"7f9a":function(t,e,i){t.exports=i.p+"static/img/quanjingTest3.b5a1a3ac.jpg"},"9c45":function(t,e,i){var o,n,r,s=i("7037").default;i("6c57"),i("131a"),i("d9e2"),i("d401"),i("d81d"),i("14d9"),i("13d5"),i("d3b7"),i("cb29"),i("a434"),i("7a82"),i("b64b"),i("07ac"),i("159b"),i("26e9"),i("4de4"),i("7db0"),
/*!
* Photo Sphere Viewer 4.8.1
* @copyright 2014-2015 Jérémy Heleine
* @copyright 2015-2022 Damien "Mistic" Sorel
* @licence MIT (https://opensource.org/licenses/MIT)
*/
function(a,p){"object"===s(e)&&"undefined"!==typeof t?p(e,i("80ac"),i("08fe")):(n=[e,i("80ac"),i("08fe")],o=p,r="function"===typeof o?o.apply(e,n):o,void 0===r||(t.exports=r))}(0,(function(t,e,i){"use strict";function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},o.apply(this,arguments)}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="9 9 81 81"><path fill="currentColor" d="M37.5 90S9.9 51.9 9.9 36.6 22.2 9 37.5 9s27.6 12.4 27.6 27.6S37.5 90 37.5 90zm0-66.3c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11zM86.7 55H70c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h16.7c1.8 0 3.3 1.5 3.3 3.3S88.5 55 86.7 55zm0-25h-15a3.3 3.3 0 0 1-3.3-3.3c0-1.8 1.5-3.3 3.3-3.3h15c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3zM56.5 73h30c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3h-30a3.3 3.3 0 0 1-3.3-3.3 3.2 3.2 0 0 1 3.3-3.3z"/>\x3c!--Created by Rohith M S from the Noun Project--\x3e</svg>\n',l={MARKER_VISIBILITY:"marker-visibility",GOTO_MARKER_DONE:"goto-marker-done",LEAVE_MARKER:"leave-marker",OVER_MARKER:"over-marker",RENDER_MARKERS_LIST:"render-markers-list",SELECT_MARKER:"select-marker",SELECT_MARKER_LIST:"select-marker-list",UNSELECT_MARKER:"unselect-marker",HIDE_MARKERS:"hide-markers",SET_MARKERS:"set-markers",SHOW_MARKERS:"show-markers"},c={click:"click",hover:"hover"},h="http://www.w3.org/2000/svg",u=i.utils.dasherize("psvMarker"),d=function(t,e){return'\n<div class="psv-panel-menu psv-panel-menu--stripped">\n  <h1 class="psv-panel-menu-title">'+p+" "+e+'</h1>\n  <ul class="psv-panel-menu-list">\n    '+t.map((function(t){return"\n    <li data-"+u+'="'+t.config.id+'" class="psv-panel-menu-item" tabindex="0">\n      '+("image"===t.type?'<span class="psv-panel-menu-item-icon"><img src="'+t.config.image+'"/></span>':"")+'\n      <span class="psv-panel-menu-item-label">'+t.getListContent()+"</span>\n    </li>\n    "})).join("")+"\n  </ul>\n</div>\n"};function f(t,e,o){var n=t[0],r=t[1],s=e[0],a=e[1],p=i.utils.greatArcDistance(t,e),l=Math.sin((1-o)*p)/Math.sin(p),c=Math.sin(o*p)/Math.sin(p),h=l*Math.cos(r)*Math.cos(n)+c*Math.cos(a)*Math.cos(s),u=l*Math.cos(r)*Math.sin(n)+c*Math.cos(a)*Math.sin(s),d=l*Math.sin(r)+c*Math.sin(a);return[Math.atan2(u,h),Math.atan2(d,Math.sqrt(h*h+u*u))]}var v={image:"image",imageLayer:"imageLayer",html:"html",polygonPx:"polygonPx",polygonRad:"polygonRad",polylinePx:"polylinePx",polylineRad:"polylineRad",square:"square",rect:"rect",circle:"circle",ellipse:"ellipse",path:"path"},g=function(){function t(o,n){if(!o.id)throw new i.PSVError("missing marker id");if(this.psv=n,this.id=o.id,this.type=t.getType(o,!1),this.visible=!0,this.$el=null,this.config={},this.data=void 0,this.tooltip=null,this.props={dynamicSize:!1,anchor:null,visible:!1,staticTooltip:!1,position:null,position2D:null,positions3D:null,width:null,height:null,def:null},this.loader=null,this.is3d()&&(this.loader=new e.TextureLoader,this.psv.config.withCredentials&&this.loader.setWithCredentials(!0),this.psv.config.requestHeaders&&"object"===s(this.psv.config.requestHeaders)&&this.loader.setRequestHeader(this.psv.config.requestHeaders)),this.isNormal())this.$el=document.createElement("div");else if(this.isPolygon())this.$el=document.createElementNS(h,"polygon");else if(this.isPolyline())this.$el=document.createElementNS(h,"polyline");else if(this.isSvg()){var r="square"===this.type?"rect":this.type;this.$el=document.createElementNS(h,r)}this.is3d()||(this.$el.id="psv-marker-"+this.id,this.$el["psvMarker"]=this),this.update(o)}var n=t.prototype;return n.destroy=function(){delete this.$el["psvMarker"],delete this.$el,delete this.config,delete this.props,delete this.psv},n.is3d=function(){return this.type===v.imageLayer},n.isNormal=function(){return this.type===v.image||this.type===v.html},n.isPoly=function(){return this.isPolygon()||this.isPolyline()},n.isPolyPx=function(){return this.type===v.polygonPx||this.type===v.polylinePx},n.isPolyRad=function(){return this.type===v.polygonRad||this.type===v.polylineRad},n.isPolygon=function(){return this.type===v.polygonPx||this.type===v.polygonRad},n.isPolyline=function(){return this.type===v.polylinePx||this.type===v.polylineRad},n.isSvg=function(){return this.type===v.square||this.type===v.rect||this.type===v.circle||this.type===v.ellipse||this.type===v.path},n.getScale=function(t,o){if(!this.config.scale)return 1;if("function"===typeof this.config.scale)return this.config.scale(t,o);var n=1;if(Array.isArray(this.config.scale.zoom)){var r=this.config.scale.zoom;n*=r[0]+(r[1]-r[0])*i.CONSTANTS.EASINGS.inQuad(t/100)}if(Array.isArray(this.config.scale.longitude)){var s=this.config.scale.longitude,a=e.MathUtils.degToRad(this.psv.prop.hFov)/2,p=Math.abs(i.utils.getShortestArc(this.props.position.longitude,o.longitude));n*=s[1]+(s[0]-s[1])*i.CONSTANTS.EASINGS.outQuad(Math.max(0,(a-p)/a))}return n},n.getListContent=function(){return this.config.listContent?this.config.listContent:this.config.tooltip.content?this.config.tooltip.content:this.config.html?this.config.html:this.id},n.showTooltip=function(t){if(this.props.visible&&this.config.tooltip.content&&this.props.position2D){var e=o({},this.config.tooltip,{data:this});if(this.isPoly())if(t){var n=i.utils.getPosition(this.psv.container);e.top=t.clientY-n.top,e.left=t.clientX-n.left,e.box={width:20,height:20}}else e.top=this.props.position2D.y,e.left=this.props.position2D.x;else e.top=this.props.position2D.y+this.props.height/2,e.left=this.props.position2D.x+this.props.width/2,e.box={width:this.props.width,height:this.props.height};this.tooltip?this.tooltip.move(e):this.tooltip=this.psv.tooltip.create(e)}},n.refreshTooltip=function(){this.tooltip&&this.showTooltip()},n.hideTooltip=function(){this.tooltip&&(this.tooltip.hide(),this.tooltip=null)},n.update=function(e){var o,n=t.getType(e,!0);if(void 0!==n&&n!==this.type)throw new i.PSVError("cannot change marker type");(i.utils.deepmerge(this.config,e),"string"===typeof this.config.tooltip&&(this.config.tooltip={content:this.config.tooltip}),this.config.tooltip||(this.config.tooltip={}),this.config.tooltip.trigger||(this.config.tooltip.trigger=c.hover),this.data=this.config.data,this.visible=!1!==this.config.visible,this.is3d())||(this.isNormal()?this.$el.className="psv-marker psv-marker--normal":this.$el.setAttribute("class","psv-marker psv-marker--svg"),this.config.className&&i.utils.addClasses(this.$el,this.config.className),this.config.tooltip&&this.$el.classList.add("psv-marker--has-tooltip"),this.config.content&&this.$el.classList.add("psv-marler--has-content"),this.$el.style.opacity=null!=(o=this.config.opacity)?o:1,this.config.style&&i.utils.deepmerge(this.$el.style,this.config.style));this.props.anchor=i.utils.parsePosition(this.config.anchor),this.config.scale&&Array.isArray(this.config.scale)&&(this.config.scale={zoom:this.config.scale}),this.isNormal()?this.__updateNormal():this.isPoly()?this.__updatePoly():this.isSvg()?this.__updateSvg():this.is3d()&&this.__update3d()},n.__updateNormal=function(){if(!i.utils.isExtendedPosition(this.config))throw new i.PSVError("missing marker position, latitude/longitude or x/y");if(this.config.image&&(!this.config.width||!this.config.height))throw new i.PSVError("missing marker width/height");this.config.width&&this.config.height?(this.props.dynamicSize=!1,this.props.width=this.config.width,this.props.height=this.config.height,this.$el.style.width=this.config.width+"px",this.$el.style.height=this.config.height+"px"):this.props.dynamicSize=!0,this.config.image?(this.props.def=this.config.image,this.$el.style.backgroundImage="url("+this.config.image+")"):this.config.html&&(this.props.def=this.config.html,this.$el.innerHTML=this.config.html),this.$el.style.transformOrigin=100*this.props.anchor.x+"% "+100*this.props.anchor.y+"%",this.props.position=this.psv.dataHelper.cleanPosition(this.config),this.props.positions3D=[this.psv.dataHelper.sphericalCoordsToVector3(this.props.position)]},n.__updateSvg=function(){var t=this;if(!i.utils.isExtendedPosition(this.config))throw new i.PSVError("missing marker position, latitude/longitude or x/y");switch(this.props.dynamicSize=!0,this.type){case v.square:this.props.def={x:0,y:0,width:this.config.square,height:this.config.square};break;case v.rect:Array.isArray(this.config.rect)?this.props.def={x:0,y:0,width:this.config.rect[0],height:this.config.rect[1]}:this.props.def={x:0,y:0,width:this.config.rect.width,height:this.config.rect.height};break;case v.circle:this.props.def={cx:this.config.circle,cy:this.config.circle,r:this.config.circle};break;case v.ellipse:Array.isArray(this.config.ellipse)?this.props.def={cx:this.config.ellipse[0],cy:this.config.ellipse[1],rx:this.config.ellipse[0],ry:this.config.ellipse[1]}:this.props.def={cx:this.config.ellipse.rx,cy:this.config.ellipse.ry,rx:this.config.ellipse.rx,ry:this.config.ellipse.ry};break;case v.path:this.props.def={d:this.config.path};break}i.utils.each(this.props.def,(function(e,i){t.$el.setAttributeNS(null,i,e)})),this.config.svgStyle?i.utils.each(this.config.svgStyle,(function(e,o){t.$el.setAttributeNS(null,i.utils.dasherize(o),e)})):this.$el.setAttributeNS(null,"fill","rgba(0,0,0,0.5)"),this.props.position=this.psv.dataHelper.cleanPosition(this.config),this.props.positions3D=[this.psv.dataHelper.sphericalCoordsToVector3(this.props.position)]},n.__updatePoly=function(){var t=this;this.props.dynamicSize=!0,this.config.svgStyle?(i.utils.each(this.config.svgStyle,(function(e,o){t.$el.setAttributeNS(null,i.utils.dasherize(o),e)})),this.isPolyline()&&!this.config.svgStyle.fill&&this.$el.setAttributeNS(null,"fill","none")):this.isPolygon()?this.$el.setAttributeNS(null,"fill","rgba(0,0,0,0.5)"):this.isPolyline()&&(this.$el.setAttributeNS(null,"fill","none"),this.$el.setAttributeNS(null,"stroke","rgb(0,0,0)"));var e=this.config.polygonPx||this.config.polygonRad||this.config.polylinePx||this.config.polylineRad;if(!Array.isArray(e[0]))for(var o=0;o<e.length;o++)e.splice(o,2,[e[o],e[o+1]]);this.isPolyPx()?this.props.def=e.map((function(e){var i=t.psv.dataHelper.textureCoordsToSphericalCoords({x:e[0],y:e[1]});return[i.longitude,i.latitude]})):this.props.def=e.map((function(t){return[i.utils.parseAngle(t[0]),i.utils.parseAngle(t[1],!0)]}));var n=this.isPolygon()?function(t){for(var e=[t[0]],o=0,n=1;n<t.length;n++){var r=t[n-1][0]-t[n][0];r>Math.PI?o+=1:r<-Math.PI&&(o-=1),e.push([t[n][0]+2*o*Math.PI,t[n][1]])}var s=e.reduce((function(t,e){return[t[0]+e[0],t[1]+e[1]]}));return[i.utils.parseAngle(s[0]/t.length),s[1]/t.length]}(this.props.def):function(t){for(var e=0,o=[],n=0;n<t.length-1;n++){var r=i.utils.greatArcDistance(t[n],t[n+1])*i.CONSTANTS.SPHERE_RADIUS;o.push(r),e+=r}for(var s=0,a=0;a<t.length-1;a++){if(s+o[a]>e/2){var p=(e/2-s)/o[a];return f(t[a],t[a+1],p)}s+=o[a]}return t[Math.round(t.length/2)]}(this.props.def);this.props.position={longitude:n[0],latitude:n[1]},this.props.positions3D=this.props.def.map((function(e){return t.psv.dataHelper.sphericalCoordsToVector3({longitude:e[0],latitude:e[1]})}))},n.__update3d=function(){var t=this;if(!this.config.width||!this.config.height)throw new i.PSVError("missing marker width/height");switch(this.props.dynamicSize=!1,this.props.width=this.config.width,this.props.height=this.config.height,this.props.position=this.psv.dataHelper.cleanPosition(this.config),this.props.positions3D=[this.psv.dataHelper.sphericalCoordsToVector3(this.props.position)],this.type){case v.imageLayer:if(!this.$el){var o,n,r=new e.MeshBasicMaterial({transparent:!0,opacity:null!=(o=this.config.opacity)?o:1,depthTest:!1}),s=new e.PlaneGeometry(1,1),a=new e.Mesh(s,r);a.userData=(n={},n["psvMarker"]=this,n),this.$el=(new e.Group).add(a),Object.defineProperty(this.$el,"visible",{enumerable:!0,get:function(){return this.children[0].userData["psvMarker"].visible},set:function(t){this.children[0].userData["psvMarker"].visible=t}})}switch(this.props.def!==this.config.imageLayer&&(this.psv.config.requestHeaders&&"function"===typeof this.psv.config.requestHeaders&&this.loader.setRequestHeader(this.psv.config.requestHeaders(this.config.imageLayer)),this.$el.children[0].material.map=this.loader.load(this.config.imageLayer,(function(e){e.anisotropy=4,t.psv.needsUpdate()})),this.props.def=this.config.imageLayer),this.$el.children[0].position.set(this.props.anchor.x-.5,this.props.anchor.y-.5,0),this.$el.position.copy(this.props.positions3D[0]),this.config.orientation){case"horizontal":this.$el.lookAt(0,this.$el.position.y,0),this.$el.rotateX(this.props.position.latitude<0?-Math.PI/2:Math.PI/2);break;case"vertical-left":this.$el.lookAt(0,0,0),this.$el.rotateY(.4*-Math.PI);break;case"vertical-right":this.$el.lookAt(0,0,0),this.$el.rotateY(.4*Math.PI);break;default:this.$el.lookAt(0,0,0);break}this.$el.scale.set(this.config.width/100,this.config.height/100,1);break}},t.getType=function(t,e){void 0===e&&(e=!1);var o=[];if(i.utils.each(v,(function(e){t[e]&&o.push(e)})),0===o.length&&!e)throw new i.PSVError("missing marker content, either "+Object.keys(v).join(", "));if(o.length>1)throw new i.PSVError("multiple marker content, either "+Object.keys(v).join(", "));return o[0]},t}(),m=function(t){function e(e){var i;return i=t.call(this,e,"psv-button--hover-scale psv-markers-button",!0)||this,i.plugin=i.psv.getPlugin("markers"),i.plugin&&(i.plugin.on(l.SHOW_MARKERS,a(i)),i.plugin.on(l.HIDE_MARKERS,a(i)),i.toggleActive(!0)),i.hide(),i}n(e,t);var i=e.prototype;return i.destroy=function(){this.plugin&&(this.plugin.off(l.SHOW_MARKERS,this),this.plugin.off(l.HIDE_MARKERS,this)),t.prototype.destroy.call(this)},i.isSupported=function(){return!!this.plugin},i.handleEvent=function(t){switch(t.type){case l.SHOW_MARKERS:this.toggleActive(!0);break;case l.HIDE_MARKERS:this.toggleActive(!1);break}},i.onClick=function(){this.plugin.prop.visible?this.plugin.hide():this.plugin.show()},e}(i.AbstractButton);m.id="markers",m.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 9 81 81"><path fill="currentColor" d="M50.5 90S22.9 51.9 22.9 36.6 35.2 9 50.5 9s27.6 12.4 27.6 27.6S50.5 90 50.5 90zm0-66.3c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11z"/>\x3c!--Created by Rohith M S from the Noun Project--\x3e</svg>\n';var b=function(t){function e(e){var o;return o=t.call(this,e,"psv-button--hover-scale psv-markers-list-button",!0)||this,o.plugin=o.psv.getPlugin("markers"),o.plugin&&(o.psv.on(i.CONSTANTS.EVENTS.OPEN_PANEL,a(o)),o.psv.on(i.CONSTANTS.EVENTS.CLOSE_PANEL,a(o))),o.hide(),o}n(e,t);var o=e.prototype;return o.destroy=function(){this.psv.off(i.CONSTANTS.EVENTS.OPEN_PANEL,this),this.psv.off(i.CONSTANTS.EVENTS.CLOSE_PANEL,this),t.prototype.destroy.call(this)},o.isSupported=function(){return!!this.plugin},o.handleEvent=function(t){switch(t.type){case i.CONSTANTS.EVENTS.OPEN_PANEL:this.toggleActive("markersList"===t.args[0]);break;case i.CONSTANTS.EVENTS.CLOSE_PANEL:this.toggleActive(!1);break}},o.onClick=function(){this.plugin.toggleMarkersList()},e}(i.AbstractButton);b.id="markersList",b.icon=p,i.DEFAULTS.lang[m.id]="Markers",i.DEFAULTS.lang[b.id]="Markers list",i.registerButton(m,"caption:left"),i.registerButton(b,"caption:left");var w=function(t){function r(e,i){var n;return n=t.call(this,e)||this,n.markers={},n.prop={visible:!0,currentMarker:null,hoveringMarker:null,stopObserver:null},n.config=o({clickEventOnMarker:!1,gotoMarkerSpeed:"8rpm"},i),n.container=document.createElement("div"),n.container.className="psv-markers",n.container.style.cursor=n.psv.config.mousemove?"move":"default",n.svgContainer=document.createElementNS(h,"svg"),n.svgContainer.setAttribute("class","psv-markers-svg-container"),n.container.appendChild(n.svgContainer),n.container.addEventListener("mouseenter",a(n),!0),n.container.addEventListener("mouseleave",a(n),!0),n.container.addEventListener("mousemove",a(n),!0),n.container.addEventListener("contextmenu",a(n)),n}n(r,t);var p=r.prototype;return p.init=function(){var e=this;t.prototype.init.call(this),this.psv.container.appendChild(this.container),this.psv.on(i.CONSTANTS.EVENTS.CLICK,this),this.psv.on(i.CONSTANTS.EVENTS.DOUBLE_CLICK,this),this.psv.on(i.CONSTANTS.EVENTS.RENDER,this),this.psv.on(i.CONSTANTS.EVENTS.CONFIG_CHANGED,this),this.psv.once(i.CONSTANTS.EVENTS.READY,(function(){e.config.markers&&(e.setMarkers(e.config.markers),delete e.config.markers)}))},p.destroy=function(){var e,o;this.clearMarkers(!1),null==(e=(o=this.prop).stopObserver)||e.call(o),this.psv.off(i.CONSTANTS.EVENTS.CLICK,this),this.psv.off(i.CONSTANTS.EVENTS.DOUBLE_CLICK,this),this.psv.off(i.CONSTANTS.EVENTS.RENDER,this),this.psv.off(i.CONSTANTS.EVENTS.CONFIG_CHANGED,this),this.psv.container.removeChild(this.container),delete this.svgContainer,delete this.markers,delete this.container,t.prototype.destroy.call(this)},p.handleEvent=function(t){switch(t.type){case"mouseenter":this.__onMouseEnter(t,this.__getTargetMarker(t.target));break;case"mouseleave":this.__onMouseLeave(t,this.__getTargetMarker(t.target));break;case"mousemove":this.__onMouseMove(t,this.__getTargetMarker(t.target));break;case"contextmenu":t.preventDefault();break;case i.CONSTANTS.EVENTS.CLICK:this.__onClick(t,t.args[0],!1);break;case i.CONSTANTS.EVENTS.DOUBLE_CLICK:this.__onClick(t,t.args[0],!0);break;case i.CONSTANTS.EVENTS.RENDER:this.renderMarkers();break;case i.CONSTANTS.OBJECT_EVENTS.ENTER_OBJECT:this.__onMouseEnter(t.detail.originalEvent,t.detail.data);break;case i.CONSTANTS.OBJECT_EVENTS.LEAVE_OBJECT:this.__onMouseLeave(t.detail.originalEvent,t.detail.data);break;case i.CONSTANTS.OBJECT_EVENTS.HOVER_OBJECT:this.__onMouseMove(t.detail.originalEvent,t.detail.data);break;case i.CONSTANTS.EVENTS.CONFIG_CHANGED:this.container.style.cursor=this.psv.config.mousemove?"move":"default";break}},p.show=function(){this.prop.visible=!0,this.renderMarkers(),this.trigger(l.SHOW_MARKERS)},p.hide=function(){this.prop.visible=!1,this.renderMarkers(),this.trigger(l.HIDE_MARKERS)},p.toggleAllTooltips=function(){this.prop.showAllTooltips?this.hideAllTooltips():this.showAllTooltips()},p.showAllTooltips=function(){this.prop.showAllTooltips=!0,i.utils.each(this.markers,(function(t){t.props.staticTooltip=!0,t.showTooltip()}))},p.hideAllTooltips=function(){this.prop.showAllTooltips=!1,i.utils.each(this.markers,(function(t){t.props.staticTooltip=!1,t.hideTooltip()}))},p.getNbMarkers=function(){return Object.keys(this.markers).length},p.getMarkers=function(){return Object.values(this.markers)},p.addMarker=function(t,e){if(void 0===e&&(e=!0),this.markers[t.id])throw new i.PSVError('marker "'+t.id+'" already exists');var o=new g(t,this.psv);return o.isNormal()?this.container.appendChild(o.$el):o.isPoly()||o.isSvg()?this.svgContainer.appendChild(o.$el):o.is3d()&&this.psv.renderer.scene.add(o.$el),this.markers[o.id]=o,e&&(this.renderMarkers(),this.__refreshUi(),this.__checkObjectsObserver(),this.trigger(l.SET_MARKERS,this.getMarkers())),o},p.getMarker=function(t){var e="object"===s(t)?t.id:t;if(!this.markers[e])throw new i.PSVError('cannot find marker "'+e+'"');return this.markers[e]},p.getCurrentMarker=function(){return this.prop.currentMarker},p.updateMarker=function(t,e){void 0===e&&(e=!0);var i=this.getMarker(t.id);return i.update(t),e&&(this.renderMarkers(),this.__refreshUi(),i.is3d()&&this.psv.needsUpdate(),this.trigger(l.SET_MARKERS,this.getMarkers())),i},p.removeMarker=function(t,e){void 0===e&&(e=!0);var i=this.getMarker(t);i.isNormal()?this.container.removeChild(i.$el):i.isPoly()||i.isSvg()?this.svgContainer.removeChild(i.$el):i.is3d()&&(this.psv.renderer.scene.remove(i.$el),this.psv.needsUpdate()),this.prop.hoveringMarker===i&&(this.prop.hoveringMarker=null),this.prop.currentMarker===i&&(this.prop.currentMarker=null),i.hideTooltip(),i.destroy(),delete this.markers[i.id],e&&(this.__refreshUi(),this.__checkObjectsObserver(),this.trigger(l.SET_MARKERS,this.getMarkers()))},p.removeMarkers=function(t,e){var i=this;void 0===e&&(e=!0),t.forEach((function(t){return i.removeMarker(t,!1)})),e&&(this.__refreshUi(),this.__checkObjectsObserver(),this.trigger(l.SET_MARKERS,this.getMarkers()))},p.setMarkers=function(t,e){var o=this;void 0===e&&(e=!0),this.clearMarkers(!1),i.utils.each(t,(function(t){return o.addMarker(t,!1)})),e&&(this.renderMarkers(),this.__refreshUi(),this.__checkObjectsObserver(),this.trigger(l.SET_MARKERS,this.getMarkers()))},p.clearMarkers=function(t){var e=this;void 0===t&&(t=!0),i.utils.each(this.markers,(function(t){return e.removeMarker(t,!1)})),t&&(this.renderMarkers(),this.__refreshUi(),this.__checkObjectsObserver(),this.trigger(l.SET_MARKERS,this.getMarkers()))},p.gotoMarker=function(t,e){var i=this;void 0===e&&(e=this.config.gotoMarkerSpeed);var n=this.getMarker(t);return this.psv.animate(o({},n.props.position,{zoom:n.config.zoomLvl,speed:e})).then((function(){i.trigger(l.GOTO_MARKER_DONE,n)}))},p.hideMarker=function(t){this.toggleMarker(t,!1)},p.showMarker=function(t){this.toggleMarker(t,!0)},p.showMarkerTooltip=function(t){var e=this.getMarker(t);e.props.staticTooltip=!0,e.showTooltip()},p.hideMarkerTooltip=function(t){var e=this.getMarker(t);e.props.staticTooltip=!1,e.hideTooltip()},p.toggleMarker=function(t,e){void 0===e&&(e=null);var i=this.getMarker(t);i.visible=null===e?!i.visible:e,i.is3d()?this.psv.needsUpdate():this.renderMarkers()},p.showMarkerPanel=function(t){var e,i=this.getMarker(t);null!=i&&null!=(e=i.config)&&e.content?this.psv.panel.show({id:"marker",content:i.config.content}):this.psv.panel.hide("marker")},p.toggleMarkersList=function(){"markersList"===this.psv.panel.prop.contentId?this.hideMarkersList():this.showMarkersList()},p.showMarkersList=function(){var t=this,e=[];i.utils.each(this.markers,(function(t){t.visible&&!t.config.hideList&&e.push(t)})),e=this.change(l.RENDER_MARKERS_LIST,e),this.psv.panel.show({id:"markersList",content:d(e,this.psv.config.lang[m.id]),noMargin:!0,clickHandler:function(e){var o=e.target?i.utils.getClosest(e.target,"li"):void 0,n=o?o.dataset["psvMarker"]:void 0;if(n){var r=t.getMarker(n);t.trigger(l.SELECT_MARKER_LIST,r),t.gotoMarker(r),t.hideMarkersList()}}})},p.hideMarkersList=function(){this.psv.panel.hide("markersList")},p.renderMarkers=function(){var t=this,e=this.psv.getZoomLevel(),o=this.psv.getPosition();i.utils.each(this.markers,(function(n){var r,s=t.prop.visible&&n.visible,a=null;if(s&&n.is3d())a=t.__getMarkerPosition(n),s=t.__isMarkerVisible(n,a);else if(s&&n.isPoly()){var p=t.__getPolyPositions(n);if(s=p.length>(n.isPolygon()?2:1),s){a=t.__getMarkerPosition(n);var h=p.map((function(t){return t.x-a.x+","+(t.y-a.y)})).join(" ");n.$el.setAttributeNS(null,"points",h),n.$el.setAttributeNS(null,"transform","translate("+a.x+" "+a.y+")")}}else if(s&&(n.props.dynamicSize&&t.__updateMarkerSize(n),a=t.__getMarkerPosition(n),s=t.__isMarkerVisible(n,a),s)){var u=n.getScale(e,o);if(n.isSvg()){var d=a.x+n.props.width*n.props.anchor.x*(1-u),f=a.y+n.props.height*n.props.anchor.y*(1-u);n.$el.setAttributeNS(null,"transform","translate("+d+", "+f+") scale("+u+", "+u+")")}else n.$el.style.transform="translate3D("+a.x+"px, "+a.y+"px, 0px) scale("+u+", "+u+")"}r=n.props.visible!==s,n.props.visible=s,n.props.position2D=s?a:null,n.is3d()||i.utils.toggleClass(n.$el,"psv-marker--visible",s),s?n.props.staticTooltip?n.showTooltip():n.config.tooltip.trigger===c.click||n===t.prop.hoveringMarker&&!n.isPoly()?n.refreshTooltip():n!==t.prop.hoveringMarker&&n.hideTooltip():n.hideTooltip(),r&&t.trigger(l.MARKER_VISIBILITY,n,s)}))},p.__isMarkerVisible=function(t,e){return t.props.positions3D[0].dot(this.psv.prop.direction)>0&&e.x+t.props.width>=0&&e.x-t.props.width<=this.psv.prop.size.width&&e.y+t.props.height>=0&&e.y-t.props.height<=this.psv.prop.size.height},p.__updateMarkerSize=function(t){var e;t.$el.classList.add("psv-marker--transparent"),t.isSvg()?(e=t.$el.getAttributeNS(null,"transform"),t.$el.removeAttributeNS(null,"transform")):(e=t.$el.style.transform,t.$el.style.transform="");var i=t.$el.getBoundingClientRect();t.props.width=i.width,t.props.height=i.height,t.$el.classList.remove("psv-marker--transparent"),e&&(t.isSvg()?t.$el.setAttributeNS(null,"transform",e):t.$el.style.transform=e),t.props.dynamicSize=!1},p.__getMarkerPosition=function(t){if(t.isPoly())return this.psv.dataHelper.sphericalCoordsToViewerCoords(t.props.position);var e=this.psv.dataHelper.vector3ToViewerCoords(t.props.positions3D[0]);return e.x-=t.props.width*t.props.anchor.x,e.y-=t.props.height*t.props.anchor.y,e},p.__getPolyPositions=function(t){var e=this,i=t.props.positions3D.length,o=t.props.positions3D.map((function(t){return{vector:t,visible:t.dot(e.psv.prop.direction)>0}})),n=[];return o.forEach((function(t,e){if(!t.visible){var r=[0===e?o[i-1]:o[e-1],e===i-1?o[0]:o[e+1]];r.forEach((function(i){i.visible&&n.push({visible:i,invisible:t,index:e})}))}})),n.reverse().forEach((function(t){o.splice(t.index,0,{vector:e.__getPolyIntermediaryPoint(t.visible.vector,t.invisible.vector),visible:!0})})),o.filter((function(t){return t.visible})).map((function(t){return e.psv.dataHelper.vector3ToViewerCoords(t.vector)}))},p.__getPolyIntermediaryPoint=function(t,o){var n=this.psv.prop.direction.clone().normalize(),r=(new e.Vector3).crossVectors(t,o).normalize(),s=(new e.Vector3).crossVectors(r,t).normalize(),a=t.clone().multiplyScalar(-n.dot(s)),p=s.clone().multiplyScalar(n.dot(t)),l=(new e.Vector3).addVectors(a,p).normalize(),c=(new e.Vector3).crossVectors(l,n);return l.applyAxisAngle(c,.01).multiplyScalar(i.CONSTANTS.SPHERE_RADIUS)},p.__getTargetMarker=function(t,e){void 0===e&&(e=!1);var o=e?i.utils.getClosest(t,".psv-marker"):t;return o?o["psvMarker"]:void 0},p.__targetOnTooltip=function(t,e){return!(!t||!e)&&i.utils.hasParent(t,e.container)},p.__onMouseEnter=function(t,e){e&&!e.isPoly()&&(this.prop.hoveringMarker=e,this.trigger(l.OVER_MARKER,e),e.props.staticTooltip||e.config.tooltip.trigger!==c.hover||e.showTooltip(t))},p.__onMouseLeave=function(t,e){!e||e.isPoly()&&this.__targetOnTooltip(t.relatedTarget,e.tooltip)||(this.trigger(l.LEAVE_MARKER,e),this.prop.hoveringMarker=null,e.props.staticTooltip||e.config.tooltip.trigger!==c.hover||e.hideTooltip())},p.__onMouseMove=function(t,e){var i,o;null!=e&&e.isPoly()?o=e:this.prop.hoveringMarker&&this.__targetOnTooltip(t.target,this.prop.hoveringMarker.tooltip)&&(o=this.prop.hoveringMarker),o?(this.prop.hoveringMarker||(this.trigger(l.OVER_MARKER,o),this.prop.hoveringMarker=o),o.props.staticTooltip||o.showTooltip(t)):null!=(i=this.prop.hoveringMarker)&&i.isPoly()&&(this.trigger(l.LEAVE_MARKER,this.prop.hoveringMarker),this.prop.hoveringMarker.props.staticTooltip||this.prop.hoveringMarker.hideTooltip(),this.prop.hoveringMarker=null)},p.__onClick=function(t,e,i){var o,n=null==(o=e.objects.find((function(t){return t.userData["psvMarker"]})))?void 0:o.userData["psvMarker"];n||(n=this.__getTargetMarker(e.target,!0)),this.prop.currentMarker&&this.prop.currentMarker!==n&&(this.trigger(l.UNSELECT_MARKER,this.prop.currentMarker),this.psv.panel.hide("marker"),this.prop.showAllTooltips||this.prop.currentMarker.config.tooltip.trigger!==c.click||this.hideMarkerTooltip(this.prop.currentMarker),this.prop.currentMarker=null),n&&(this.prop.currentMarker=n,this.trigger(l.SELECT_MARKER,n,{dblclick:i,rightclick:e.rightclick}),this.config.clickEventOnMarker?e.marker=n:t.stopPropagation(),this.markers[n.id]&&(n.config.tooltip.trigger===c.click?n.tooltip?this.hideMarkerTooltip(n):this.showMarkerTooltip(n):this.showMarkerPanel(n.id)))},p.__refreshUi=function(){var t,e,i=Object.values(this.markers).filter((function(t){return!t.config.hideList})).length;0===i?(this.psv.panel.isVisible("markersList")||this.psv.panel.isVisible("marker"))&&this.psv.panel.hide():this.psv.panel.isVisible("markersList")?this.showMarkersList():this.psv.panel.isVisible("marker")&&(this.prop.currentMarker?this.showMarkerPanel(this.prop.currentMarker):this.psv.panel.hide()),null==(t=this.psv.navbar.getButton(m.id,!1))||t.toggle(i>0),null==(e=this.psv.navbar.getButton(b.id,!1))||e.toggle(i>0)},p.__checkObjectsObserver=function(){var t=Object.values(this.markers).some((function(t){return t.is3d()}));!t&&this.prop.stopObserver?(this.prop.stopObserver(),this.prop.stopObserver=null):t&&!this.prop.stopObserver&&(this.prop.stopObserver=this.psv.observeObjects("psvMarker",this))},r}(i.AbstractPlugin);w.id="markers",w.EVENTS=l,t.EVENTS=l,t.MarkersPlugin=w,Object.defineProperty(t,"__esModule",{value:!0})}))},b9e7:function(t,e,i){t.exports=i.p+"static/img/quanjingTest.3a7a6126.jpg"},c41d:function(t,e,i){t.exports=i.p+"static/img/logo.321b4a75.png"},d3bb:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'/*!\n * Photo Sphere Viewer 4.8.1\n * @copyright 2014-2015 Jérémy Heleine\n * @copyright 2015-2022 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */.psv-markers{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:10;width:100%;height:100%}.psv-markers-svg-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:20}.psv-marker{display:none}.psv-marker--normal{position:absolute;top:0;left:0;z-index:30;background-size:contain;background-repeat:no-repeat}.psv-marker--transparent{display:block;opacity:0}.psv-marker--visible{display:block}.psv-marker--has-tooltip, .psv-marker--has-content{cursor:pointer}',""]),t.exports=e}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-miniGame-list"],{"1bcf":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("2909"));i("a9e3"),i("14d9"),i("e9c4"),i("b65f"),i("acd8");var a={props:{img:{type:String,required:!0},row:{type:Number,default:3},col:{type:Number,default:3}},data:function(){return{status:{type:String,default:"进行中......"},aspectRatio:1,width:750,height:750,blank:{left:2,right:2},blockPoints:[],correctPoints:[],blockWidth:"",blockHeight:""}},mounted:function(){},methods:{calculateAspectRatio:function(){var t=this;console.log("calculateAspectRatio");var e=this.$refs.myImage;if(e){this.aspectRatio=e.naturalWidth/e.naturalHeight,this.height=this.width/this.aspectRatio,console.log("this.aspectRatio",this.aspectRatio),this.blockWidth=this.width/this.col,this.blockHeight=this.height/this.row;for(var i=this.row,n=this.col,a=this.blockWidth,r=this.blockHeight,c=[],s=1,l=0;l<i;l++)for(var u=0;u<n;u++)c.push({x:u*a,y:l*r,widthX:u*a,heightY:l*r,id:(new Date).getTime()+100*Math.random(),number:s}),s++;this.correctPoints=c;var f=this.correctPoints,d=f.length,h=f[d-1],b=(0,o.default)(f);b.length=d-1,b.push(h),this.blockPoints=b,this.$nextTick((function(){for(var e=0;e<t.row*t.col;e++){var i=JSON.parse(JSON.stringify(t.blockPoints[t.blockPoints.length-1]));console.log("offset.number",i.number);var n=[],o=i.number-t.col;o>0&&o!=i.topNumber&&n.push(o);var a=i.number+t.col;a<=t.blockPoints.length&&a!=i.topNumber&&n.push(a);var r=i.number-1;i.number%t.col!=1&&r!=i.topNumber&&n.push(r);var c=i.number+1;i.number%t.col!=0&&c!=i.topNumber&&n.push(c),console.log("numberArray",n);var s=Math.floor(Math.random()*n.length);console.log("number",s);var l=n[s]-1;console.log("clickNumber",l),t.handleClick(l)}}))}},handleClick:function(t){var e=this.blockPoints[this.blockPoints.length-1];if(this.isAdjacent(this.blockPoints[t],e)){var i=JSON.parse(JSON.stringify(this.blockPoints[this.blockPoints.length-1])),n=i.x,o=i.y,a=i.number;this.blockPoints[this.blockPoints.length-1].x=this.blockPoints[t].x,this.blockPoints[this.blockPoints.length-1].y=this.blockPoints[t].y,this.blockPoints[this.blockPoints.length-1].number=this.blockPoints[t].number,this.blockPoints[this.blockPoints.length-1]["lastNumber"]=a,this.blockPoints[t].x=n,this.blockPoints[t].y=o,this.blockPoints[t].number=a,console.log("this.blockPoints[(this.blockPoints.length - 1)]",this.blockPoints[this.blockPoints.length-1].x,this.blockPoints[this.blockPoints.length-1].y);var r=this.winCheck();r&&this.winGame()}},isAdjacent:function(t,e){var i=t.x,n=t.y,o=e.x,a=e.y,r=this.blockWidth,c=this.blockHeight,s=Math.floor(Math.abs(Math.trunc(parseFloat(i/r))-Math.trunc(parseFloat(o/r)))),l=Math.floor(Math.abs(Math.trunc(parseFloat(n/c))-Math.trunc(parseFloat(a/c)))),u=!1;return console.log("yDis",l),console.log("xDis",s),0==l?0==s?u=!1:1==s&&(u=!0):u=1==l&&0==s,console.log("flag",u),u},winCheck:function(){for(var t in this.correctPoints){if(this.blockPoints[t].x!=this.correctPoints[t].widthX)return!1;if(this.blockPoints[t].y!=this.correctPoints[t].heightY)return!1}return!0},winGame:function(){var t=this;setTimeout((function(){t.status="胜利",alert("恭喜通关"),t.blockPoints[t.blockPoints.length-1].opacity=1,t.$emit("getStatus"),setTimeout((function(){t.goToNextLevel()}),300)}),300)},goToNextLevel:function(){var t=window.confirm("现在进行下一关么？");t&&(this.status="进行中......",this.$emit("next"))}},computed:{}};e.default=a},2286:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("dc79")),a={components:{puzzle:o.default},data:function(){return{list:[{url:i("9692"),name:"刮刮乐"},{url:i("87af"),name:"拼图"},{url:i("ac7b"),name:"连连看"}]}},methods:{goButton:function(t){"刮刮乐"==t?uni.navigateTo({url:"/pages/scratchTicket/index"}):"拼图"==t?uni.navigateTo({url:"/pages/miniGame/index"}):"连连看"==t&&uni.navigateTo({url:"/pages/miniGame/index2"})}}};e.default=a},2909:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,n.default)(t)||(0,o.default)(t)||(0,a.default)(t)||(0,r.default)()};var n=c(i("6005")),o=c(i("db90")),a=c(i("06c5")),r=c(i("3427"));function c(t){return t&&t.__esModule?t:{default:t}}},"2e18":function(t,e,i){"use strict";var n=i("8689"),o=i.n(n);o.a},3427:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},i("d9e2"),i("d401")},6005:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return(0,n.default)(t)};var n=function(t){return t&&t.__esModule?t:{default:t}}(i("6b75"))},"66ba":function(t,e,i){"use strict";var n=i("dd86"),o=i.n(n);o.a},8689:function(t,e,i){var n=i("ecab");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("1cf88cf8",n,!0,{sourceMap:!1,shadowMode:!1})},"87af":function(t,e,i){t.exports=i.p+"static/img/miniGame_list2.b869e23d.png"},9692:function(t,e,i){t.exports=i.p+"static/img/miniGame_list1.f7b65ac3.svg"},a83d:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"puzzle",style:{width:t.width+"rpx",height:t.height+"rpx"}},[t._l(t.blockPoints,(function(e,n){return i("div",{key:e.id,ref:n===t.blockPoints.length-1?"empty":"block",refInFor:!0,staticClass:"puzzle__block",style:{width:t.blockWidth+"rpx",height:t.blockHeight+"rpx",left:e.x+"rpx",top:e.y+"rpx",backgroundImage:"url("+t.img+")",backgroundPosition:"-"+t.correctPoints[n].widthX+"rpx -"+t.correctPoints[n].heightY+"rpx",backgroundSize:t.col+"00% "+t.row+"00%",opacity:n===t.blockPoints.length-1&&0},attrs:{id:"id"+n,"data-correctX":t.correctPoints[n].x,"data-correctY":t.correctPoints[n].y},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleClick(n)}}})})),i("img",{ref:"myImage",staticClass:"puzzle_image",attrs:{src:t.img},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.calculateAspectRatio.apply(void 0,arguments)}}})],2)},o=[]},ac7b:function(t,e,i){t.exports=i.p+"static/img/miniGame_list3.ff97962a.png"},b65f:function(t,e,i){var n=i("23e7"),o=i("b42e");n({target:"Math",stat:!0},{trunc:o})},bb11:function(t,e,i){"use strict";i.r(e);var n=i("f332"),o=i("c390");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("2e18");var r=i("f0c5"),c=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"1f597269",null,!1,n["a"],void 0);e["default"]=c.exports},c390:function(t,e,i){"use strict";i.r(e);var n=i("2286"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},cfb7:function(t,e,i){"use strict";i.r(e);var n=i("1bcf"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},d0fd:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".puzzle[data-v-35cffe2c]{box-sizing:initial;border:2px solid #ccc;position:relative}.puzzle__block[data-v-35cffe2c]{border:1px solid #fff;box-sizing:border-box;\n\t/* background-color: rebeccapurple; */position:absolute;transition:all .3s}.puzzle_image[data-v-35cffe2c]{display:none}",""]),t.exports=e},db90:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630")},dc79:function(t,e,i){"use strict";i.r(e);var n=i("a83d"),o=i("cfb7");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("66ba");var r=i("f0c5"),c=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"35cffe2c",null,!1,n["a"],void 0);e["default"]=c.exports},dd86:function(t,e,i){var n=i("d0fd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("90bed360",n,!0,{sourceMap:!1,shadowMode:!1})},ecab:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-1f597269]{background:#e8ecf4}body.?%PAGE?%[data-v-1f597269]{background:#e8ecf4}.content_item[data-v-1f597269]{width:%?750?%;height:%?334?%;display:flex;align-items:center;justify-content:center}.content_item_image[data-v-1f597269]{width:%?686?%;height:%?270?%;border-radius:%?16?%;box-sizing:border-box}",""]),t.exports=e},f332:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},t._l(t.list,(function(e,n){return i("v-uni-view",{staticClass:"content_item"},[i("v-uni-image",{staticClass:"content_item_image",attrs:{src:e.url,mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goButton(e.name)}}})],1)})),1)},o=[]}}]);
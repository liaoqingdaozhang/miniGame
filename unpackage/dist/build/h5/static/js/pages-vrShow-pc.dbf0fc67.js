(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-vrShow-pc"],{2420:function(t,a,e){var o=e("24fb");a=o(!1),a.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.tool_center[data-v-a479047c]{height:calc(100vh - 250px);display:flex}.tool_center .demo-container[data-v-a479047c]{width:calc(100vw - 300px);height:calc(100vh - 250px);height:100%;position:relative}.tool_center .demo-container #viewer[data-v-a479047c]{width:100%!important}.tool_center_right[data-v-a479047c]{width:250px;height:100%;padding:32px 10px 0 0;background:#fff;box-sizing:border-box;border:1px solid #000}.tool_center_right_coord[data-v-a479047c]{display:flex;align-items:center;justify-content:space-between}.tool_center_right_coord_body[data-v-a479047c]{width:100px}.tool_center_right_coord_body_item[data-v-a479047c]{line-height:25px;width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tool_center_right_coordBox[data-v-a479047c]{margin-bottom:20px}.tool_center_right_button[data-v-a479047c]{width:100%;display:flex;align-items:center;justify-content:right;margin-bottom:5px;margin-right:20px}.tool_bottom[data-v-a479047c]{background-color:#fff;white-space:nowrap;width:100%}.tool_bottom_box[data-v-a479047c]{height:150px;display:flex;align-items:center}.tool_bottom_box_item[data-v-a479047c]{display:flex;flex-direction:column;align-items:center;margin:0 16px}.tool_bottom_box_item_top[data-v-a479047c]{width:240px;height:120px}',""]),t.exports=a},"3adb":function(t,a,e){"use strict";var o=e("e3bd"),i=e.n(o);i.a},4445:function(t,a,e){"use strict";e.r(a);var o=e("ed9b"),i=e.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return o[t]}))}(r);a["default"]=i.a},"58aa":function(t,a,e){"use strict";e.r(a);var o=e("d612"),i=e("4445");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(r);e("3adb");var l=e("f0c5"),n=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,"a479047c",null,!1,o["a"],void 0);a["default"]=n.exports},d612:function(t,a,e){"use strict";e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){}));var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{},[e("v-uni-view",{staticClass:"tool",nativeOn:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),function(){}.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"tool_top"}),e("v-uni-view",{staticClass:"tool_center"},[e("div",{staticClass:"demo-container"},[e("div",{attrs:{id:"viewer"}})]),e("v-uni-view",{},[e("v-uni-scroll-view",{staticClass:"tool_center_right",attrs:{"scroll-y":"true"}},[e("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"类型"}},[e("el-select",{attrs:{placeholder:"请选择活动区域"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.typeChange.apply(void 0,arguments)}},model:{value:t.formData.type,callback:function(a){t.$set(t.formData,"type",a)},expression:"formData.type"}},[e("el-option",{attrs:{label:"文本",value:"text"}}),e("el-option",{attrs:{label:"正方形",value:"square"}}),e("el-option",{attrs:{label:"圆",value:"circle"}}),e("el-option",{attrs:{label:"矩形",value:"rect"}}),e("el-option",{attrs:{label:"椭圆",value:"ellipse"}}),e("el-option",{attrs:{label:"面",value:"polygonRad"}}),e("el-option",{attrs:{label:"线",value:"polylineRad"}}),e("el-option",{attrs:{label:"坐标",value:"coord"}}),e("el-option",{attrs:{label:"html",value:"html"}})],1)],1),"text"==t.formData.type?e("v-uni-view",{},[e("el-form-item",{attrs:{label:"内容"}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.content,callback:function(a){t.$set(t.formData,"content",a)},expression:"formData.content"}})],1),e("el-form-item",{attrs:{label:"字体大小"}},[e("el-input-number",{attrs:{size:"small",min:1,label:"描述文字"},model:{value:t.formData.fontSize,callback:function(a){t.$set(t.formData,"fontSize",a)},expression:"formData.fontSize"}})],1),e("el-form-item",{attrs:{label:"字体颜色"}},[e("el-color-picker",{attrs:{"show-alpha":!0},model:{value:t.formData.color,callback:function(a){t.$set(t.formData,"color",a)},expression:"formData.color"}})],1)],1):t._e(),"circle"==t.formData.type||"square"==t.formData.type||"rect"==t.formData.type||"ellipse"==t.formData.type||"polygonRad"==t.formData.type||"polylineRad"==t.formData.type||"coord"==t.formData.type?e("v-uni-view",{},["circle"==t.formData.type?e("el-form-item",{attrs:{label:"圆的半径"}},[e("el-input-number",{attrs:{size:"small",min:1,label:"描述文字"},model:{value:t.formData.circleSize,callback:function(a){t.$set(t.formData,"circleSize",a)},expression:"formData.circleSize"}})],1):t._e(),"square"==t.formData.type?e("el-form-item",{attrs:{label:"正方形大小"}},[e("el-input-number",{attrs:{size:"small",min:1,label:"描述文字"},model:{value:t.formData.squareSize,callback:function(a){t.$set(t.formData,"squareSize",a)},expression:"formData.squareSize"}})],1):t._e(),"rect"==t.formData.type||"ellipse"==t.formData.type?e("el-form-item",{attrs:{label:"宽度"}},[e("el-input-number",{attrs:{size:"small",min:1,label:"描述文字"},model:{value:t.formData.width,callback:function(a){t.$set(t.formData,"width",a)},expression:"formData.width"}})],1):t._e(),"rect"==t.formData.type||"ellipse"==t.formData.type?e("el-form-item",{attrs:{label:"高度"}},[e("el-input-number",{attrs:{size:"small",min:1,label:"描述文字"},model:{value:t.formData.height,callback:function(a){t.$set(t.formData,"height",a)},expression:"formData.height"}})],1):t._e(),"polylineRad"!=t.formData.type&&"coord"!=t.formData.type?e("el-form-item",{attrs:{label:"背景颜色"}},[e("el-color-picker",{attrs:{"show-alpha":!0},model:{value:t.formData.backgroundColor,callback:function(a){t.$set(t.formData,"backgroundColor",a)},expression:"formData.backgroundColor"}})],1):t._e(),e("el-form-item",{attrs:{label:"边框颜色"}},[e("el-color-picker",{attrs:{"show-alpha":!0},model:{value:t.formData.strokeColor,callback:function(a){t.$set(t.formData,"strokeColor",a)},expression:"formData.strokeColor"}})],1),e("el-form-item",{attrs:{label:"边框宽度"}},[e("el-input-number",{attrs:{size:"small",min:1,label:"描述文字"},model:{value:t.formData.strokeWidth,callback:function(a){t.$set(t.formData,"strokeWidth",a)},expression:"formData.strokeWidth"}})],1),"polygonRad"==t.formData.type||"polylineRad"==t.formData.type?e("el-form-item",{attrs:{label:"当前点数"}},[t._v(t._s(t.formData.points.length))]):t._e(),"coord"==t.formData.type?e("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"中心点"}},[e("v-uni-view",{staticClass:"tool_center_right_coord"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("经度:"+t._s(t.formData.longitudeCenter))]),e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("纬度:"+t._s(t.formData.latitudeCenter))])],1)],1)],1):t._e(),"coord"==t.formData.type?e("v-uni-view",{staticClass:"tool_center_right_button",staticStyle:{"margin-bottom":"20px"}},["center"==t.formData.coordType?e("el-button",{attrs:{type:"info"}},[t._v("编辑中")]):e("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.formData.coordType="center"}}},[t._v("编辑点位")])],1):t._e(),"coord"==t.formData.type?e("v-uni-view",{staticClass:"tool_center_right_coordBox"},[e("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"点位1"}},[e("v-uni-view",{staticClass:"tool_center_right_coord"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("经度:"+t._s(t.formData.longitude1))]),e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("纬度:"+t._s(t.formData.latitude1))])],1)],1)],1),e("v-uni-view",{staticClass:"tool_center_right_button"},["1"==t.formData.coordType?e("el-button",{attrs:{type:"info"}},[t._v("编辑中")]):e("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.formData.coordType="1"}}},[t._v("编辑点位")])],1),e("el-form-item",{attrs:{label:"线1提示"}},[e("el-input",{attrs:{placeholder:"请输入提示"},model:{value:t.formData.tooltip1,callback:function(a){t.$set(t.formData,"tooltip1",a)},expression:"formData.tooltip1"}})],1)],1):t._e(),"coord"==t.formData.type?e("v-uni-view",{staticClass:"tool_center_right_coordBox"},[e("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"点位2"}},[e("v-uni-view",{staticClass:"tool_center_right_coord"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("经度:"+t._s(t.formData.longitude2))]),e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("纬度:"+t._s(t.formData.latitude2))])],1)],1)],1),e("v-uni-view",{staticClass:"tool_center_right_button"},["2"==t.formData.coordType?e("el-button",{attrs:{type:"info"}},[t._v("编辑中")]):e("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.formData.coordType="2"}}},[t._v("编辑点位")])],1),e("el-form-item",{attrs:{label:"线2提示"}},[e("el-input",{attrs:{placeholder:"请输入提示"},model:{value:t.formData.tooltip2,callback:function(a){t.$set(t.formData,"tooltip2",a)},expression:"formData.tooltip2"}})],1)],1):t._e(),"coord"==t.formData.type?e("v-uni-view",{staticClass:"tool_center_right_coordBox"},[e("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"点位3"}},[e("v-uni-view",{staticClass:"tool_center_right_coord"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body"},[e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("经度:"+t._s(t.formData.longitude3))]),e("v-uni-view",{staticClass:"tool_center_right_coord_body_item"},[t._v("纬度:"+t._s(t.formData.latitude3))])],1)],1)],1),e("v-uni-view",{staticClass:"tool_center_right_button"},["3"==t.formData.coordType?e("el-button",{attrs:{type:"info"}},[t._v("编辑中")]):e("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.formData.coordType="3"}}},[t._v("编辑点位")])],1),e("el-form-item",{attrs:{label:"线3提示"}},[e("el-input",{attrs:{placeholder:"请输入提示"},model:{value:t.formData.tooltip3,callback:function(a){t.$set(t.formData,"tooltip3",a)},expression:"formData.tooltip3"}})],1)],1):t._e()],1):t._e(),"coord"!=t.formData.type?e("el-form-item",{attrs:{label:"提示"}},[e("el-input",{attrs:{placeholder:"请输入提示"},model:{value:t.formData.tooltip,callback:function(a){t.$set(t.formData,"tooltip",a)},expression:"formData.tooltip"}})],1):t._e(),"coord"!=t.formData.type&&"polylineRad"!=t.formData.type?e("el-form-item",{attrs:{label:"跳转"}},[e("el-select",{attrs:{placeholder:"请选择跳转的全景图"},model:{value:t.formData.jumpIndex,callback:function(a){t.$set(t.formData,"jumpIndex",a)},expression:"formData.jumpIndex"}},t._l(t.itemArr,(function(t,a){return e("el-option",{attrs:{label:t.name,value:a}})})),1)],1):t._e(),"polygonRad"==t.formData.type||"polylineRad"==t.formData.type?e("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[e("el-button",{attrs:{type:"warning"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.cancel.apply(void 0,arguments)}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.confirm.apply(void 0,arguments)}}},[t._v("完成")])],1):t._e(),"coord"==t.formData.type?e("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[e("el-button",{attrs:{type:"warning"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.coordCancel.apply(void 0,arguments)}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.coordConfirm.apply(void 0,arguments)}}},[t._v("完成")])],1):t._e()],1)],1)],1)],1),e("v-uni-scroll-view",{staticClass:"tool_bottom",attrs:{"scroll-x":"true"}},[e("v-uni-view",{staticClass:"tool_bottom_box"},t._l(t.itemArr,(function(a,o){return e("v-uni-view",{staticClass:"tool_bottom_box_item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.jump(o)}}},[e("v-uni-image",{staticClass:"tool_bottom_box_item_top",attrs:{src:a.img,mode:""}}),e("v-uni-view",{staticClass:"tool_bottom_box_item_bottom"},[t._v(t._s(a.name))])],1)})),1)],1)],1)],1)},i=[]},e3bd:function(t,a,e){var o=e("2420");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=e("4f06").default;i("94103376",o,!0,{sourceMap:!1,shadowMode:!1})},ed9b:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("99af"),e("14d9"),e("4de4"),e("d3b7"),e("e9c4"),e("c975"),e("159b"),e("b64b");e("c320");var o=e("08fe");e("075e");var i=e("9c45");e("04e6");var r={data:function(){return{viewer:"",markersPlugin:"",itemArr:[{name:"公司1",img:e("b9e7")},{name:"公司2",img:e("0547")},{name:"电梯",img:e("47de")},{name:"公司3",img:e("7f9a")}],currentDataMark:[],dataMark:{"公司1":[],"公司2":[],"电梯":[],"公司3":[]},formData:{type:"coord",points:[],longitude:0,latitude:0,fontSize:20,color:"rgba(255, 255, 255, 1)",content:"",circleSize:15,squareSize:30,backgroundColor:"rgba(255, 255, 255, 1)",strokeColor:"rgba(0, 0, 0, 1)",strokeWidth:2,tooltip:"",width:20,height:10,editId:"",coordType:"center",longitudeCenter:0,latitudeCenter:0,editCenter:"",longitude1:0,latitude1:0,tooltip1:"",edit1:"",longitude2:0,latitude2:0,tooltip2:"",edit2:"",longitude3:0,latitude3:0,tooltip3:"",edit3:"",jumpIndex:""},indexName:""}},mounted:function(){this.indexName="公司1",this.currentDataMark=this.dataMark[this.indexName],this.setViewer(this.itemArr[0].img)},methods:{setViewer:function(t){var a=this;if(console.log("currentDataMark",this.currentDataMark),this.viewer)try{this.viewer.destroy()}catch(l){console.log(l);var r=document.querySelector("#viewer");r.removeChild(r.childNodes[0])}this.viewer=new o.Viewer({container:document.querySelector("#viewer"),panorama:t,size:{width:"100vw",height:"100%"},useXmpData:!0,plugins:[[i.MarkersPlugin,{markers:this.currentDataMark}]],navbar:["autorotate","zoom","move","markers","caption","fullscreen"]}),this.viewer.once("ready",(function(){try{var o,i,r=new Image;r.src=t,r.onload=function(){o=r.height,i=r.width,console.log("imageHeight",o),console.log("imageWidth",i),a.markersPlugin.addMarker({id:"top-marker",longitude:"0",latitude:"90deg",width:i/5.4,height:i/5.4,imageLayer:e("c41d")}),a.markersPlugin.addMarker({id:"bottom-marker",longitude:"0",latitude:"-90deg",width:i/5.4,height:i/5.4,imageLayer:e("c41d")})}}catch(l){console.log("this.markersPlugin.markers e",l)}})),this.viewer.on("click",(function(t,e){if(console.log("e:",t),console.log("data:",e),console.log("".concat(e.rightclick?"right ":"","clicked at longitude: ").concat(e.longitude," latitude: ").concat(e.latitude)),0==e.rightclick){if("polygonRad"==a.formData.type||"polylineRad"==a.formData.type){a.formData.longitude=e.longitude,a.formData.latitude=e.latitude;var o=[];o.push(e.longitude),o.push(e.latitude),a.formData.points.push(o)}else"coord"==a.formData.type?"center"==a.formData.coordType?(a.formData.longitudeCenter=e.longitude,a.formData.latitudeCenter=e.latitude):"1"==a.formData.coordType?(a.formData.longitude1=e.longitude,a.formData.latitude1=e.latitude):"2"==a.formData.coordType?(a.formData.longitude2=e.longitude,a.formData.latitude2=e.latitude):"3"==a.formData.coordType&&(a.formData.longitude3=e.longitude,a.formData.latitude3=e.latitude):(a.formData.longitude=e.longitude,a.formData.latitude=e.latitude);a.addMarker()}})),this.showTooltip(),this.viewer.on("position-updated",(function(t,e){a.showTooltip()})),this.markersPlugin=this.viewer.getPlugin(i.MarkersPlugin);this.markersPlugin.on("select-marker",(function(t,e){if(console.log("e:",t),console.log("marker:",e),t.args[1].rightclick){if("top-marker"!=e.id&&"bottom-marker"!=e.id&&"coordCenter"!=e.id&&"coord1"!=e.id&&"coord2"!=e.id&&"coord3"!=e.id){a.markersPlugin.removeMarker(t.args[0].id);a.dataMark[a.indexName]=a.dataMark[a.indexName].filter((function(a){return a.id!==t.args[0].id})),a.currentDataMark=a.dataMark[a.indexName],a.formData.points=[]}}else if(console.log("e.args[0].config.jumpIndex",t.args[0].config.jumpIndex),void 0!=t.args[0].config.jumpIndex){var o=t.args[0].config.jumpIndex;a.jump(o)}}))},addMarker:function(){var t={};if("polygonRad"==this.formData.type||"polylineRad"==this.formData.type?1==this.formData.points.length&&(this.formData.editId=this.formData.type+this.formData.points[0][0]+this.formData.points[0][1]):this.formData.editId=this.formData.type+this.formData.longitude+this.formData.latitude,"text"==this.formData.type?t={id:this.formData.editId,longitude:this.formData.longitude,tooltip:this.formData.tooltip,latitude:this.formData.latitude,html:"<b>".concat(this.formData.content,"</b>"),anchor:"center center",jumpIndex:this.formData.jumpIndex,style:{color:this.formData.color,fontSize:"".concat(this.formData.fontSize,"px"),textAlign:"center"}}:"circle"==this.formData.type||"square"==this.formData.type||"rect"==this.formData.type||"ellipse"==this.formData.type?(t={id:this.formData.editId,tooltip:{content:this.formData.tooltip,trigger:"click"},svgStyle:{fill:this.formData.backgroundColor,stroke:this.formData.strokeColor,strokeWidth:this.formData.strokeWidth},jumpIndex:this.formData.jumpIndex,longitude:this.formData.longitude,latitude:this.formData.latitude,anchor:"center center"},"circle"==this.formData.type?t["circle"]=this.formData.circleSize:"square"==this.formData.type?t["square"]=this.formData.squareSize:"rect"==this.formData.type?t["rect"]=[this.formData.width,this.formData.height]:"ellipse"==this.formData.type&&(t["ellipse"]=[this.formData.width,this.formData.height])):"polygonRad"==this.formData.type?t={id:this.formData.editId,tooltip:{content:this.formData.tooltip,className:"custom-tooltip",trigger:"click"},jumpIndex:this.formData.jumpIndex,svgStyle:{fill:this.formData.backgroundColor,stroke:this.formData.strokeColor,strokeWidth:this.formData.strokeWidth},anchor:"center center",polygonRad:this.formData.points}:"polylineRad"==this.formData.type?t={id:this.formData.editId,tooltip:{content:this.formData.tooltip,className:"custom-tooltip",trigger:"click"},svgStyle:{stroke:this.formData.strokeColor,strokeWidth:this.formData.strokeWidth},anchor:"center center",polylineRad:this.formData.points}:"coord"==this.formData.type&&("center"==this.formData.coordType?t={id:"coordCenter",tooltip:{content:"中心点",trigger:"click"},svgStyle:{fill:"#fff",stroke:"#000",strokeWidth:2},longitude:this.formData.longitudeCenter,latitude:this.formData.latitudeCenter,anchor:"center center",circle:10}:(t={svgStyle:{fill:this.formData.backgroundColor,stroke:this.formData.strokeColor,strokeWidth:this.formData.strokeWidth},anchor:"center center",circle:8},"1"==this.formData.coordType?(t["id"]="coord1",t["tooltip"]={content:"点位1",trigger:"click"},t["longitude"]=this.formData.longitude1,t["latitude"]=this.formData.latitude1):"2"==this.formData.coordType?(t["id"]="coord2",t["tooltip"]={content:"点位2",trigger:"click"},t["longitude"]=this.formData.longitude2,t["latitude"]=this.formData.latitude2):"3"==this.formData.coordType&&(t["id"]="coord3",t["tooltip"]={content:"点位3",trigger:"click"},t["longitude"]=this.formData.longitude3,t["latitude"]=this.formData.latitude3))),console.log("this.formData.points",this.formData.points),console.log("markerItem",t),console.log("markerItem",JSON.stringify(t)),"polygonRad"==this.formData.type||"polylineRad"==this.formData.type)this.formData.points.length>2?(this.markersPlugin.updateMarker(t),this.markersPlugin.markers[t.id].showTooltip()):2==this.formData.points.length&&(this.markersPlugin.addMarker(t),this.markersPlugin.markers[t.id].showTooltip());else if("coord"==this.formData.type){var a="add";"center"==this.formData.coordType?""!=this.formData.editCenter&&(a="edit"):"1"==this.formData.coordType?""!=this.formData.edit1&&(a="edit"):"2"==this.formData.coordType?""!=this.formData.edit2&&(a="edit"):"3"==this.formData.coordType&&""!=this.formData.edit3&&(a="edit"),"edit"==a?this.markersPlugin.updateMarker(t):"add"==a&&(this.markersPlugin.addMarker(t),"center"==this.formData.coordType?this.formData.editCenter="edit":"1"==this.formData.coordType?this.formData.edit1="edit":"2"==this.formData.coordType?this.formData.edit2="edit":"3"==this.formData.coordType&&(this.formData.edit3="edit")),this.markersPlugin.markers[t.id].showTooltip()}else this.markersPlugin.addMarker(t),this.markersPlugin.markers[t.id].showTooltip();this.dataMark[this.indexName].push(t),console.log("this.dataMark[this.indexName]",this.dataMark[this.indexName]),this.currentDataMark=this.dataMark[this.indexName]},typeChange:function(t){console.log("cancel"),this.cancel(),console.log("coordCancel"),this.coordCancel()},cancel:function(){var t=this;""!=this.formData.editId&&(-1==this.formData.editId.indexOf("polygonRad")&&-1==this.formData.editId.indexOf("polylineRad")||(this.markersPlugin.removeMarker(this.formData.editId),this.dataMark[this.indexName]=this.dataMark[this.indexName].filter((function(a){return a.id!==t.formData.editId})),this.currentDataMark=this.dataMark[this.indexName],this.formData.points=[],this.formData.editId=""))},confirm:function(){this.formData.points=[],this.formData.editId=""},coordCancel:function(){console.log("coordCancel"),""!=this.formData.editCenter&&(this.markersPlugin.removeMarker("coordCenter"),this.dataMark[this.indexName]=this.dataMark[this.indexName].filter((function(t){return"coordCenter"!==t.id})),this.currentDataMark=this.dataMark[this.indexName],this.formData.latitudeCenter=0,this.formData.longitudeCenter=0,this.formData.editCenter=""),""!=this.formData.edit1&&(this.markersPlugin.removeMarker("coord1"),this.dataMark[this.indexName]=this.dataMark[this.indexName].filter((function(t){return"coord1"!==t.id})),this.currentDataMark=this.dataMark[this.indexName],this.formData.latitude1=0,this.formData.longitude1=0,this.formData.edit1=""),""!=this.formData.edit2&&(this.markersPlugin.removeMarker("coord2"),this.dataMark[this.indexName]=this.dataMark[this.indexName].filter((function(t){return"coord2"!==t.id})),this.currentDataMark=this.dataMark[this.indexName],this.formData.latitude2=0,this.formData.longitude2=0,this.formData.edit2=""),""!=this.formData.edit3&&(this.markersPlugin.removeMarker("coord3"),this.dataMark[this.indexName]=this.dataMark[this.indexName].filter((function(t){return"coord3"!==t.id})),this.currentDataMark=this.dataMark[this.indexName],this.formData.latitude3=0,this.formData.longitude3=0,this.formData.edit3="")},coordConfirm:function(){if(""==this.formData.editCenter)uni.showToast({title:"没有选择中心点坐标",icon:"none"});else{if(console.log("this.formData.longitude1",this.formData.longitude1),console.log("this.formData.latitude1",this.formData.latitude1),console.log("this.formData.longitude2",this.formData.longitude2),console.log("this.formData.latitude2",this.formData.latitude2),console.log("this.formData.longitude3",this.formData.longitude3),console.log("this.formData.latitude3",this.formData.latitude3),console.log("this.formData.longitudeCenter",this.formData.longitudeCenter),console.log("this.formData.latitudeCenter",this.formData.latitudeCenter),""!=this.formData.edit1){var t={id:"coord"+this.formData.longitude1+this.formData.latitude1,tooltip:{content:this.formData.tooltip1,trigger:"click"},svgStyle:{stroke:"#fff",strokeWidth:2},anchor:"center center",polylineRad:[[this.formData.longitudeCenter,this.formData.latitudeCenter],[this.formData.longitude1,this.formData.latitude1]]};this.markersPlugin.addMarker(t),this.markersPlugin.markers[t.id].showTooltip(),this.dataMark[this.indexName].push(t),this.currentDataMark=this.dataMark[this.indexName]}if(""!=this.formData.edit2){var a={id:"coord"+this.formData.longitude2+this.formData.latitude2,tooltip:{content:this.formData.tooltip2,trigger:"click"},svgStyle:{stroke:"#fff",strokeWidth:2},anchor:"center center",polylineRad:[[this.formData.longitudeCenter,this.formData.latitudeCenter],[this.formData.longitude2,this.formData.latitude2]]};this.markersPlugin.addMarker(a),this.markersPlugin.markers[a.id].showTooltip(),this.dataMark[this.indexName].push(a),this.currentDataMark=this.dataMark[this.indexName]}if(""!=this.formData.edit3){var e={id:"coord"+this.formData.longitude3+this.formData.latitude3,tooltip:{content:this.formData.tooltip3,trigger:"click"},svgStyle:{stroke:"#fff",strokeWidth:2},anchor:"center center",polylineRad:[[this.formData.longitudeCenter,this.formData.latitudeCenter],[this.formData.longitude3,this.formData.latitude3]]};this.markersPlugin.addMarker(e),this.markersPlugin.markers[e.id].showTooltip(),this.dataMark[this.indexName].push(e),this.currentDataMark=this.dataMark[this.indexName]}console.log("this.dataMark",this.dataMark),console.log("this.currentDataMark",this.currentDataMark),console.log("this.currentDataMark",JSON.stringify(this.currentDataMark)),this.coordCancel()}},jump:function(t){this.markersPlugin.clearMarkers();var a=this.itemArr[t].name;this.indexName=a,this.currentDataMark=this.dataMark[a],this.setViewer(this.itemArr[t].img)},showTooltip:function(){var t=this;this.markersPlugin&&this.markersPlugin.markers&&setTimeout((function(){Object.keys(t.markersPlugin.markers).forEach((function(a){t.markersPlugin.markers[a].config.tooltip&&t.markersPlugin.markers[a].showTooltip()}))}),300)}}};a.default=r}}]);